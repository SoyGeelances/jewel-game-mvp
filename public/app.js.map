{"version":3,"file":"app.js","mappings":"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","sources":["webpack://phaser-3-aec/external var \"Phaser\"","webpack://phaser-3-aec/./src/ts/Scenes/MainGame_Memo.ts","webpack://phaser-3-aec/./src/ts/observer/EventObserver.ts","webpack://phaser-3-aec/./src/ts/Scenes/Boot.ts","webpack://phaser-3-aec/./src/ts/Scenes/SplashScreen.ts","webpack://phaser-3-aec/./src/ts/components/Score.ts","webpack://phaser-3-aec/./src/ts/Screen/RetryScreen.ts","webpack://phaser-3-aec/./src/ts/Screen/index.ts","webpack://phaser-3-aec/./src/ts/Scenes/MainGame_Candy.ts","webpack://phaser-3-aec/./src/ts/components/BackgroundMusic.ts","webpack://phaser-3-aec/./src/ts/Scenes/Preloader.ts","webpack://phaser-3-aec/./src/ts/config/config.ts","webpack://phaser-3-aec/./src/ts/Screen/WinnerScreen.ts","webpack://phaser-3-aec/./src/ts/Screen/Screen.ts","webpack://phaser-3-aec/./src/ts/Game.ts","webpack://phaser-3-aec/./src/ts/components/CloseButton.ts","webpack://phaser-3-aec/./src/ts/components/Footer.ts","webpack://phaser-3-aec/./src/ts/components/HoverButtons.ts","webpack://phaser-3-aec/./src/ts/components/Button.ts","webpack://phaser-3-aec/./src/ts/components/index.ts","webpack://phaser-3-aec/./src/ts/observer/index.ts","webpack://phaser-3-aec/./src/ts/Scenes/MainMenu.ts","webpack://phaser-3-aec/./src/ts/components/LevelUpScreen.ts","webpack://phaser-3-aec/./src/ts/handlers/index.ts","webpack://phaser-3-aec/./src/ts/Scenes/LeavingGameScene.ts","webpack://phaser-3-aec/./src/ts/Screen/PromptScreen.ts","webpack://phaser-3-aec/./src/ts/handlers/ButtonEventHandler.ts","webpack://phaser-3-aec/./src/ts/Utilities.ts","webpack://phaser-3-aec/./src/ts/config/index.ts","webpack://phaser-3-aec/./src/ts/Scenes/MainSettings.ts","webpack://phaser-3-aec/webpack/bootstrap","webpack://phaser-3-aec/webpack/startup"],"sourcesContent":["module.exports = Phaser;","import Utilities from \"../Utilities\";\nimport { WinnerScreen, RetryScreen } from '../Screen';\nimport { prompt } from '../config';\nimport { CloseButton } from '../components';\nimport { EventObserver } from \"../observer\";\nimport { ButtonEventHandler } from \"../handlers\";\n\nexport type LevelConfig = {\n\ttilesRow: number;\n\ttilesColumn: number;\n};\n\nexport default class MainGame extends Phaser.Scene {\n\twinnerScreen: WinnerScreen;\n\tretryScreen: RetryScreen;\n\tcloseButton: CloseButton;\n\teventObserver: EventObserver;\n\tgroup: Phaser.GameObjects.Group;\n\tscore: Phaser.GameObjects.Image;\n\tscoreText: Phaser.GameObjects.Text;\n\twithPreview = true;\n\twithRestartTime = true;\n\ttimer: Phaser.Time.TimerEvent;\n\tprogressBar: Phaser.GameObjects.Image;\n\tscoreValue = 0;\n\temptyGroup: Phaser.GameObjects.Group;\n\tresizeApplied = false;\n\tcellSizeX = 80;\n\tcellSizeY = 80;\n\tflipSpeed = 200;\n\tflipZoom = 1.05;\n\tlimitTime = 10* 1000;\n\tmaxTime = 60 * 1000;\n\tbaseScale = 0.6;\n\ttargetScore= 10000;\n\tsplitter = {\n\t\trows: 5,\n\t\tcolumns: 6,\n\t};\n\tnextLevelTimer: any = null\n\tstate = \"idle\";\n\tpreviewGoing = false;\n\tflippedCards: Phaser.GameObjects.Sprite[] = [];\n\tlevelDificulty = 1;\n\tconfigDificulty = [\n\t\t[2, 2],\n\t\t[2, 3],\n\t\t[2, 4],\n\t\t[2, 5],\n\t\t[3, 4],\n\t\t[4, 3],\n\t\t[6, 3],\n\t\t[4, 4],\n\t\t[4, 5],\n\t\t[4, 5],\n\t\t[5, 4],\n\t\t[6, 5],\n\t];\n\n\t/**\n\t * Unique name of the scene.\n\t */\n\tpublic static Name = \"MainGame\";\n\n\tpublic init() {\n\t\tthis.resetGameState();\n\t\tif(window && window.innerHeight < 650 && !this.resizeApplied) {\n\t\t\tthis.resizeApplied = true;\n\t\t\tthis.cellSizeX = this.cellSizeX / 1.60;\n\t\t\tthis.cellSizeY = this.cellSizeY / 1.60;\n\t\t\tthis.flipZoom = this.flipZoom / 1.60;\n\t\t\tthis.baseScale = this.baseScale / 1.60;\n\t\t}\n\t}\n\n\tpublic preload(): void {\n\t\t// Preload as needed.\n\t}\n\n\tpublic exist(a: any) {\n\t\treturn a !== undefined && a !== null;\n\t}\n\n\tpublic getScoreValue() {\n\t\treturn this.scoreValue;\n\t}\n\n\tprivate resetGameState(): void {\n\t\tthis.scoreValue = 0;          // Reinicia el valor del puntaje\n\t\tthis.levelDificulty = 1;      // Vuelve al nivel 1\n\t\tthis.state = \"idle\";          // Cambia el estado del juego al inicial\n\t\tthis.previewGoing = false;    // Restablece si hay un preview activo\n\n\t}\n\n\tpublic checkMatch(): void {\n\n\t\tif (this.previewGoing) return;\n\t\tif (\n\t\t\t(this.flippedCards[0] as any).behindFrame ===\n\t\t\t(this.flippedCards[1] as any).behindFrame\n\t\t) {\n\t\t\tthis.flippedCards[0].disableInteractive();\n\t\t\tthis.flippedCards[1].disableInteractive();\n\t\t\t(this.flippedCards[0] as any).pending = false;\n\t\t\t(this.flippedCards[1] as any).pending = false;\n\n\t\t\tthis.tweens.add({\n\t\t\t\ttargets: this.flippedCards,\n\t\t\t\talpha: 0,\n\t\t\t\tduration: 500,\n\t\t\t\tyoyo: false,\n\t\t\t});\n\t\t\tif ( // chequea si no hay ninguna card dadas vueltas\n\t\t\t\tthis.group\n\t\t\t\t\t.getChildren()\n\t\t\t\t\t.filter(\n\t\t\t\t\t\t(card: Phaser.GameObjects.Sprite & any) => card.pending\n\t\t\t\t\t).length === 0 && this.nextLevelTimer == null\n\t\t\t) {\n\t\t\t\tthis.nextLevelTimer = setTimeout(() => {\n\t\t\t\t\tthis.createNextGame();\n\t\t\t\t\tclearTimeout(this.nextLevelTimer);\n\t\t\t\t\tthis.nextLevelTimer = null;\n\t\t\t\t}, 550);\n\t\t\t}\n\n\t\t\tthis.scoreValue = (Number(this.scoreValue) + 100) + (50 * this.levelDificulty);\n\t\t\tif(this.state !== \"end\") {\n\t\t\t\tthis.scoreText.setText(this.scoreValue.toString());\n\t\t\t\tthis.tweens.add({\n\t\t\t\t\ttargets: this.scoreText,\n\t\t\t\t\ty: 55 - 15,  // Hace que el texto suba\n\t\t\t\t\tscaleY: 1.2,  // Estira un poco el texto para simular el brinco\n\t\t\t\t\tduration: 200,  // Duración de la subida\n\t\t\t\t\tease: 'Power1',\n\t\t\t\t\tyoyo: true,  // Hace que vuelva a su posición original\n\t\t\t\t\tonComplete: () => {\n\t\t\t\t\t\t\t// Animación de caída\n\t\t\t\t\t\t\tthis.tweens.add({\n\t\t\t\t\t\t\t\t\ttargets: this.scoreText,\n\t\t\t\t\t\t\t\t\ty: 55,  // Hace que caiga un poco más abajo\n\t\t\t\t\t\t\t\t\tduration: 300,  // Duración de la caída\n\t\t\t\t\t\t\t\t\tease: 'Bounce.easeOut',  // Efecto de rebote al caer\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.sound.add('collectcoin').play();\n\t\t\t}\n\n\t\t} else {\n\t\t\tfor (let i = 0; i < this.flippedCards.length; i++) {\n\t\t\t\tconst obj = this.flippedCards[i];\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.flipTween(obj, true);\n\t\t\t\t}, 200);\n\t\t\t}\n\t\t}\n\t\tthis.flippedCards = [];\n\t}\n\n\tpublic flipTween(\n\t\tcard: Phaser.GameObjects.Sprite & any,\n\t\tisReversed = false,\n\t\tcallback = () => null,\n\t\tcheck = true\n\t): void {\n\t\tif (!isReversed && card.isFlipping) return;\n\n\t\tif (isReversed && check) {\n\t\t\tcard.isFlipping = false;\n\t\t} else if (check) {\n\t\t\tcard.isFlipping = true;\n\t\t\tthis.flippedCards.push(card);\n\t\t}\n\t\tif(!this.game.sound.mute) this.sound.add('cardFlip', {\n\t\t\tvolume: 0.3\n\t\t}).play();\n\n\t\tthis.tweens.add({\n\t\t\ttargets: card,\n\t\t\tscaleX: 0.01,\n\t\t\tduration: this.flipSpeed / 2,\n\t\t\tyoyo: false,\n\t\t\tonComplete: () => {\n\t\t\t\tif (isReversed) card.setFrame(1);\n\t\t\t\telse card.setFrame(card.behindFrame);\n\t\t\t\tthis.tweens.add({\n\t\t\t\t\ttargets: card,\n\t\t\t\t\tscaleX: this.baseScale,\n\t\t\t\t\tduration: this.flipSpeed / 2,\n\t\t\t\t\tyoyo: false,\n\t\t\t\t\tonComplete: () => {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t},\n\t\t});\n\t}\n\n\tpublic makeCardInteractive(card: Phaser.GameObjects.Sprite & any): void {\n\t\tcard.setScale(this.baseScale);\n\n\t\tcard.isFlipping = false;\n\t\tif (card.frame.name != 0) {\n\t\t\tcard.setInteractive();\n\t\t\tcard.on(\"pointerdown\", () => {\n\t\t\t\tif(this.flippedCards.length < 2) {\n\t\t\t\t\tthis.flipTween(card, false, () => {\n\t\t\t\t\t\tif (!this.previewGoing && this.flippedCards.length === 2) {\n\t\t\t\t\t\t\tthis.checkMatch();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tpublic createGrid(config: LevelConfig) {\n\t\tconst middlePoint = {\n\t\t\tx: this.cameras.main.centerX,\n\t\t\ty: this.cameras.main.centerY,\n\t\t};\n\t\tconst tilesUsed = config.tilesRow * config.tilesColumn;\n\t\tconst amountOfTiles = tilesUsed / 2;\n\n\t\tconst possibleFrames = this.textures.get(\"cards\").getFrameNames();\n\t\tpossibleFrames.shift();\n\t\tpossibleFrames.shift();\n\n\t\tconst frames = [];\n\t\tfor (let i = 0; i < amountOfTiles; i++) {\n\t\t\tconst frame = Phaser.Math.RND.pick(possibleFrames);\n\t\t\tframes.push(frame);\n\t\t\tframes.push(frame);\n\t\t}\n\t\t// *** DEBUG ***\n\t\t// console.log(\"frames\",frames)\n\t\t// const countFrames = {};\n\t\t// frames.forEach((frame) => {\n\t\t// \tif (!countFrames[frame]) countFrames[frame] = 0;\n\t\t// \tcountFrames[frame]++;\n\t\t// });\n\t\t// console.log(\"countFrames\",countFrames)\n\n\t\tthis.emptyGroup = this.add.group();\n\t\tthis.group = this.add.group();\n\n\t\t// fill the group with the cards and shuffle them, two for each frame, fill the center first and leave the sides empty\n\n\t\tPhaser.Utils.Array.Shuffle(frames);\n\n\t\tfor (let i = 0; i < this.splitter.rows * this.splitter.columns; i++) {\n\t\t\tconst card = this.add.sprite(0, 0, \"cards\", 0).setScale(this.baseScale)\n\t\t\tthis.emptyGroup.add(card);\n\t\t}\n\n\t\tfor (let i = 0; i < config.tilesRow * config.tilesColumn; i++) {\n\t\t\tconst card = this.add.sprite(0, 0, \"cards\", 0).setScale(this.baseScale)\n\t\t\tthis.group.add(card);\n\t\t}\n\n\t\tPhaser.Utils.Array.Shuffle(this.group.getChildren());\n\n\t\tfor (let i = 0; i < this.group.getChildren().length; i++) {\n\t\t\tif (i >= frames.length) break;\n\t\t\t(this.group.getChildren()[i] as Phaser.GameObjects.Sprite).setFrame(1);\n\t\t\t(this.group.getChildren()[i] as any).behindFrame = frames[i];\n\t\t\t(this.group.getChildren()[i] as any).pending = true;\n\t\t\t\n\t\t}\n\n\t\tPhaser.Actions.GridAlign(this.emptyGroup.getChildren(), {\n\t\t\twidth: this.splitter.columns,\n\t\t\theight: this.splitter.rows,\n\t\t\tcellWidth: this.cellSizeX,\n\t\t\tcellHeight: this.cellSizeY,\n\t\t\tposition: Phaser.Display.Align.CENTER,\n\t\t\tx: middlePoint.x - (this.splitter.columns * this.cellSizeX) / 2,\n\t\t\ty: middlePoint.y - (this.splitter.rows * this.cellSizeY) / 2,\n\t\t});\n\n\t\tlet correctionX = 0;\n\t\tlet correctionY = 0;\n\n\t\t// Checkear si tilesRow es impar y si config.tilesRow es impar\n\n\t\tif (\n\t\t\t(this.splitter.columns % 2 === 0 && config.tilesColumn % 2 !== 0) ||\n\t\t\t(this.splitter.columns % 2 !== 0 && config.tilesColumn % 2 === 0)\n\t\t) {\n\t\t\tcorrectionX = this.cellSizeX / 2;\n\t\t}\n\n\t\tif (\n\t\t\t(this.splitter.rows % 2 === 0 && config.tilesRow % 2 !== 0) ||\n\t\t\t(this.splitter.rows % 2 !== 0 && config.tilesRow % 2 === 0)\n\t\t) {\n\t\t\tcorrectionY = this.cellSizeY / 2;\n\t\t}\n\n\t\tPhaser.Actions.GridAlign(this.group.getChildren(), {\n\t\t\twidth: config.tilesColumn,\n\t\t\theight: config.tilesRow,\n\t\t\tcellWidth: this.cellSizeX,\n\t\t\tcellHeight: this.cellSizeY,\n\t\t\tposition: Phaser.Display.Align.CENTER,\n\t\t\tx:\n\t\t\t\tmiddlePoint.x - (config.tilesColumn * this.cellSizeX) / 2 - correctionX,\n\t\t\ty: middlePoint.y - (config.tilesRow * this.cellSizeY) / 2 - correctionY,\n\t\t});\n\t\tif (this.withPreview) {\n\t\t\tthis.previewGoing = true;\n\t\t\tthis.group.getChildren().forEach((card: any) => {\n\t\t\t\tif (card) {\n\t\t\t\t\tthis.flipTween(\n\t\t\t\t\t\tcard,\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.flipTween(\n\t\t\t\t\t\t\t\t\tcard,\n\t\t\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\t\t\tif(card) {\n\t\t\t\t\t\t\t\t\t\t\tthis.makeCardInteractive(card);\n\t\t\t\t\t\t\t\t\t\t\tthis.previewGoing = false;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.group\n\t\t\t\t.getChildren()\n\t\t\t\t.forEach((card: Phaser.GameObjects.Sprite & any) => {\n\t\t\t\t\tif (card) this.makeCardInteractive(card);\n\t\t\t\t});\n\t\t}\n\t}\n\n\tpublic createNextGame() {\n\t\tif (this.state === \"end\") return;\n\t\tthis.levelDificulty++;\n\t\tthis.group.clear(true, true);\n\t\tthis.emptyGroup.clear(true, true);\n\t\tif (!this.configDificulty[this.levelDificulty - 1])\n\t\t\tthis.levelDificulty = this.configDificulty.length;\n\t\tconst dificulty = this.configDificulty[this.levelDificulty - 1];\n\t\tthis.createGrid({\n\t\t\ttilesRow: dificulty[0],\n\t\t\ttilesColumn: dificulty[1],\n\t\t});\n\t\tthis.timer.remove();\n\t\tthis.startTimer();\n\t}\n\n\tpublic endGame() {\n\t\t// add gray mask over all the scene\n\t\tthis.previewGoing = false;\n\t\tthis.state = \"end\";\n\n\t\tif (this.scoreValue >= this.targetScore) {\n\t\t\tthis.winnerScreen.show(prompt.win, \"winner_screen\");\n\t\t} else if( this.scoreValue >= 6501 &&  this.scoreValue <= 9999) {\n\t\t\tconst scoreValue = this.scoreValue;\n\t\t\tthis.retryScreen.setFinalScore(scoreValue);\n\t\t\tthis.retryScreen.show(prompt.narrowly, \"prompt_screen\");\n\t\t} else if (this.scoreValue < 6501)  {\n\t\t\tconst scoreValue = this.scoreValue;\n\t\t\tthis.retryScreen.setFinalScore(scoreValue);\n\t\t\tthis.retryScreen.show(prompt.retry, \"prompt_screen\");\n\t\t};\n\n\t\t//For Test\n\n\t\t// if (this.scoreValue >= this.targetScore) {\n\t\t// \tthis.winnerScreen.show(prompt.win, \"winner_screen\");\n\t\t// \tthis.removeInteractivityCards()\n\t\t// } else if( this.scoreValue >= 2501 &&  this.scoreValue <= 2999) {\n\t\t// \tconst scoreValue = this.scoreValue;\n\t\t// \tthis.retryScreen.setFinalScore(scoreValue);\n\t\t// \tthis.retryScreen.show(prompt.narrowly, \"prompt_screen\");\n\t\t// \tthis.removeInteractivityCards()\n\t\t// } else if (this.scoreValue < 2501)  {\n\t\t// \tconst scoreValue = this.scoreValue;\n\t\t// \tthis.retryScreen.setFinalScore(scoreValue);\n\t\t// \tthis.retryScreen.show(prompt.retry, \"prompt_screen\");\n\t\t// \tthis.removeInteractivityCards()\n\t\t// };\n\t\treturn;\t\n\t}\n\n\tpublic removeInteractivityCards() {\n\t\tthis.group.getChildren().forEach((card: any) => {\n\t\t\tcard.disableInteractive();\n\t\t})\n\t}\n\n\tpublic resetValues(): void {\n \t\tthis.scoreValue = 0;\n\t\tthis.levelDificulty = 1;\n\t}\n\n\tpublic adjustDepth(score: Phaser.GameObjects.Image, scoreText: Phaser.GameObjects.Text, depthScore:number = 10, depthScoreText:number = 10): void {\n\t\tscore.setDepth(depthScore);\n\t\tscoreText.setDepth(depthScoreText);\n\t}\n\n\tpublic startTimer() {\n\t\tconst newLimit = this.limitTime + ((this.levelDificulty * 2) * 1000);\n\t\tlet baseTime = Number(newLimit);\n\t\tif( baseTime > this.maxTime) baseTime = this.maxTime;\n\t\tlet progress = 100;\n\t\tthis.timer = this.time.addEvent({\n\t\t\tdelay: 1,\n\t\t\tcallback: () => {\n\t\t\t\tbaseTime--;\n\t\t\t\tprogress = baseTime / newLimit;\n\t\t\t\t// display image full height and % over with\n\t\t\t\tif(this.progressBar) {\n\t\t\t\t\tthis.progressBar.setCrop(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tthis.progressBar.width * progress,\n\t\t\t\t\t\tthis.progressBar.height\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif (baseTime <= 0) {\n\t\t\t\t\tthis.timer.remove();\n\t\t\t\t\tthis.endGame();\n\t\t\t\t}\n\t\t\t},\n\t\t\tloop: true,\n\t\t});\n\t}\n\n\tsetSoundBtn() {\n\t\tconst soundBtn = this.add.image(35, 55, this.game.sound.mute ? \"sound_off\" : \"sound_on\").setScale(0.5);\n\t\tsoundBtn.setOrigin(0.5, 0.5);\n\t\tsoundBtn.setInteractive();\n\t\tsoundBtn.on(\"pointerdown\", () => {\n\t\t\tconst newMuteValue = !this.game.sound.mute;\n\t\t\tthis.game.sound.mute = newMuteValue\n\t\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t\t\t//@ts-ignore\n\t\t\tthis.game.soundManager.setMute(newMuteValue)\n\t\t\tsoundBtn.setTexture(newMuteValue ? \"sound_off\" : \"sound_on\");\n\t\t}, this);\n\t}\n\n\tpublic create(): void {\n\t\tthis.resetGameState();\n\t\tthis.previewGoing = false;\n\t\tthis.winnerScreen = new WinnerScreen(this);\n\t\tthis.retryScreen = new RetryScreen(this);\n\t\tthis.closeButton = new CloseButton(this);\n\t\tthis.eventObserver =  EventObserver.getInstance();\n\n\t\tUtilities.LogSceneMethodEntry(\"MainGame\", \"create\");\n\n\t\tconst background = this.add.image(\n\t\t\tthis.cameras.main.centerX,\n\t\t\t0,\n\t\t\t\"background_secondary\"\n\t\t);\n\t\tbackground.setOrigin(0.5, 0);\n\t\tbackground.setScale(this.cameras.main.width / background.width);\n\t\tlet baseScale = this.cameras.main.height / background.height;\n\t\tif (this.cameras.main.width / background.width > baseScale)\n\t\t\tbaseScale = this.cameras.main.width / background.width;\n\t\tbackground.setScale(baseScale);\n\n\t\t// this.setSoundBtn();\n\n\t\tthis.closeButton.create();\n\n\t\tthis.score = this.add.image(this.cameras.main.centerX -23, 60, \"score\")\n\t\t.setScale(1.09, 1.05)\n\t\t.setOrigin(0.5, 0.5);\n\n\n\t\tthis.scoreText = this.add.text(\n\t\t\tthis.cameras.main.centerX + 100 + 20,\n\t\t\t55,\n\t\t\tthis.scoreValue.toString(),\n\t\t\t{\n\t\t\t\tfont: \"40px montserrat-memo\",\n\t\t\t\tcolor: \"#E2D64B\",\n\t\t\t}\n\t\t);\n\t\tthis.scoreText.setOrigin(1, 0.5);\n\n\t\tconst progressFrame = this.add.image(\n\t\t\tthis.cameras.main.centerX,\n\t\t\tthis.cameras.main.centerY * 2 - 60,\n\t\t\t\"progress_frame\"\n\t\t);\n\t\tprogressFrame.setOrigin(0.5, 0.5).setScale(1.12);\n\n\t\tconst overProgressFrame = this.add.image(\n\t\t\tthis.cameras.main.centerX,\n\t\t\tthis.cameras.main.centerY * 2 - 60,\n\t\t\t\"progress_bar\"\n\t\t);\n\t\toverProgressFrame.setOrigin(0.5, 0.5).setScale(1.12);\n\t\tthis.progressBar = overProgressFrame;\n\t\tthis.startTimer();\n\t\tthis.splitter.rows = 6;\n\t\tthis.splitter.columns = 5;\n\n\t\tconst dificulty = this.configDificulty[this.levelDificulty - 1];\n\n\t\tthis.createGrid({\n\t\t\ttilesRow: dificulty[0],\n\t\t\ttilesColumn: dificulty[1],\n\t\t});\n\n\t\tconst powerBy = this.add.image(\n\t\t\tthis.cameras.main.centerX * 2,\n\t\t\t(this.cameras.main.centerY * 2),\n\t\t\t\"powerBySvg\"\n\t\t);\n\t\tpowerBy.setInteractive();\n\t\tpowerBy.on(\"pointerdown\", () => {\n\t\t\tif(window) window.open(\"https://minimalart.co/\", \"_blank\");\n\t\t});\n\t\tpowerBy.setOrigin(1, 1);\n\t\tthis.state = \"start\";\n\t\tthis.registry.set('score', this.score);\n\t\tthis.registry.set('scoreText', this.scoreText);\n\n\t\tthis.eventObserver.on('button-clicked', (buttonId) => {\n\t\t\tButtonEventHandler.handleButtonEvents(buttonId, this)\n\t\t}, this);\n\t}\n\t\n}\n","// EventObserver.ts\nexport class EventObserver {\n\tprivate static instance: EventObserver;\n\tpublic eventEmitter: Phaser.Events.EventEmitter;\n\n\tprivate constructor() {\n\t\t\tthis.eventEmitter = new Phaser.Events.EventEmitter();\n\t}\n\n\tpublic static getInstance(): EventObserver {\n\t\t\tif (!EventObserver.instance) {\n\t\t\t\t\tEventObserver.instance = new EventObserver();\n\t\t\t}\n\t\t\treturn EventObserver.instance;\n\t}\n\n\tpublic on(event: string, callback: (a: any) => void, context?: any) {\n\t\t\tthis.eventEmitter.on(event, callback, context);\n\t}\n\n\tpublic emit(event: string, ...args: any[]) {\n\t\t\tthis.eventEmitter.emit(event, ...args);\n\t}\n}\n","import Preloader from \"./Preloader\";\nimport Utilities from \"../Utilities\";\n\nexport default class Boot extends Phaser.Scene {\n\t/**\n\t * Unique name of the scene.\n\t */\n\tpublic static Name = \"Boot\";\n\n\tpublic preload(): void {\n\t\t// Preload as needed.\n\t}\n\n\tpublic create(): void {\n\t\tUtilities.LogSceneMethodEntry(\"Boot\", \"create\");\n\n\t\tthis.scene.start(Preloader.Name);\n\t}\n}\n","import Utilities from \"../Utilities\";\nimport MainMenu from \"./MainMenu\";\n\nexport default class SplashScreen extends Phaser.Scene {\n\t/**\n\t * Unique name of the scene.\n\t */\n\tpublic static Name = \"SplashScreen\";\n\n\tpublic preload(): void {\n\t\tthis.load.path = window.assetFolder ?? \"assets/\";\n\n\t}\n\n\tpublic create(): void {\n\t\tUtilities.LogSceneMethodEntry(\"SplashScreen\", \"create\");\n\n\t\tthis.setBackground();\n\n\t\tconst powerBy = this.add.image(this.cameras.main.centerX * 2, (this.cameras.main.centerY * 2), \"powerBySvg\");\n\t\t\n\t\tpowerBy.setOrigin(1, 1);\n\t\tpowerBy.setInteractive();\n\t\tpowerBy.on(\"pointerdown\", () => {\n\t\t\tif(window) window.open(\"https://minimalart.co/\", \"_blank\");\n\t\t});\n\t\tthis.time.addEvent({\n\t\t\t// Run after three seconds.\n\t\t\tdelay: 1000,\n\t\t\tcallback: this.loadMainMenu,\n\t\t\tcallbackScope: this,\n\t\t\tloop: false\n\t\t});\n\t}\n\n\tpublic setBackground() {\n\t\tconst background = this.add.image(this.cameras.main.centerX,0, \"background\");\n\t\tbackground.setOrigin(0.5, 0);\n\t\tbackground.setScale(this.cameras.main.width / background.width);\n\t\tlet baseScale = this.cameras.main.height / background.height\n\t\tif((this.cameras.main.width / background.width) > baseScale) baseScale = this.cameras.main.width / background.width;\n\t\tbackground.setScale(baseScale)\n\t}\n\n\t/**\n\t * Load the next scene, the main menu.\n\t */\n\tprivate loadMainMenu(): void {\n\t\tthis.scene.start(MainMenu.Name);\n\t}\n}\n","\n\nexport class Score {\n\tscore: Phaser.GameObjects.Image;\n\tscoreText: Phaser.GameObjects.Text;\n\n  constructor( private scene: Phaser.Scene ) {\n\n    this.score = this.scene.add.image(this.scene.cameras.main.centerX -30, 60, \"score\");\n\t\tthis.score.setOrigin(0.5, 0.5);\n  }\n\n\n}\n","\nimport { Footer } from \"../components/Footer\";\nimport { promptContentConfig } from \"../types\";\nimport { PromptScreen } from \"./PromptScreen\";\n\nexport class RetryScreen  {\n  private prompt: PromptScreen;\n  private finalScore: Phaser.GameObjects.Image;\n  private finalScoreText: Phaser.GameObjects.Text;\n\n  constructor(\n    private scene: Phaser.Scene,\n  ) {\n    this.prompt = new PromptScreen(scene);\n  }\n\n  addMask() {\n    this.prompt.addMask();\n  }\n\n  show(promptContent: promptContentConfig, promptType: string) {\n    this.prompt.setBackground(promptType, 0, 0, 1.2, 1.2);\n    this.prompt.setTitle(promptContent.title, 0, -150, 1.2, 1.2);\n    this.prompt.setMessage(promptContent.message, 0, -35, 1.2, 1.2);\n    this.prompt.setActions(promptContent.actions, 0, 45, 65, 1, 1);\n    this.scene.sound.add('retry').play();\n    Footer.create(this.scene);\n  }\n\n\n  public setFinalScore(scoreValue) {\n    this.prompt.setSplashBackground();\n    this.finalScore = this.scene.add.image(this.scene.cameras.main.centerX, 60, \"final_score\")\n    .setScale(1.1, 1.1)\n    .setDepth(110)\n    .setOrigin(0.5, 0.5);\n\n    this.finalScoreText = this.scene.add.text(\n      this.scene.cameras.main.centerX + 135 + 20,\n      55,\n      scoreValue,\n      {\n        font: \"40px 'Luckiest Guy'\",\n        color: \"#E2D64B\",\n      }\n    )\n    .setDepth(110)\n    .setOrigin(1, 0.5);\n\n  }\n\n  hide(): void {\n    this.prompt.hide();\n  }\n}\n","export { WinnerScreen } from './WinnerScreen';\nexport { RetryScreen } from './RetryScreen';\nexport { PromptScreen } from './PromptScreen';\n","import Phaser from 'phaser'\nimport { WinnerScreen, RetryScreen } from '../Screen';\nimport { prompt } from '../config'\nimport { ButtonEventHandler } from '../handlers';\nimport { EventObserver } from '../observer';\nimport { CloseButton } from \"../components\";\nimport { Footer } from \"../components/Footer\";\nimport { LevelUpScreen } from \"../components/LevelUpScreen\";\nimport { BackgroundMusic } from '../components/BackgroundMusic';\n\n\n// GRID\nconst GRID_WIDTH = 5\nconst GRID_HEIGHT = 6\nconst CANDY_WIDTH = 116 * 0.6;\nconst CANDY_HEIGHT = 116 * 0.6;\nconst GAP = 6\nconst CANDY_FRAME_START = 1;\nconst CANDY_FRAME_END = 4;\nconst LOGO_X = 16;\nconst LOGO_Y = 25; \n\n// LEVELS\nconst LEVELS = [\n  { level: 1, goal: 300, time: 25 },\n\n];\n\n\nexport default class MainGame extends Phaser.Scene {\n  public static Name = \"MainGame\"\n\n  private grid: Phaser.GameObjects.Sprite[][] = []\n  private offsetX = 0\n  private offsetY = 0\n  private selectedCandy: Phaser.GameObjects.Sprite | null = null\n  private lastMovedCandy: Phaser.GameObjects.Sprite | null = null;\n  private movingCandiesInProcess = false\n  private retryScreen!: RetryScreen\n  private winnerScreen!: WinnerScreen\n  private scoreValue = 0\n  private scoreGoal = LEVELS[0].goal;\n  private scoreText!: Phaser.GameObjects.Text\n  private levelStartScore = 0;\n  private currentLevelIndex = 0;\n  private totalTime = LEVELS[0].time; // en segundos\n  private matchValue = 20;\n  private levelUpSound!: Phaser.Sound.BaseSound;\n  private levelUpScreen!: LevelUpScreen;\n  private swapCandySound!: Phaser.Sound.BaseSound;\n  private matchSound!: Phaser.Sound.BaseSound;\n  private startLevelSound!: Phaser.Sound.BaseSound;\n  private shuffleCandySound!: Phaser.Sound.BaseSound;\n  private comboCount = 1;\n  private comboTimer!: Phaser.Time.TimerEvent;\n  private comboThreshold = 1500; // 1.5 segundos\n  private comboText!: Phaser.GameObjects.Text;\n  private comboSound!: Phaser.Sound.BaseSound;\n  private comboX5Sound!: Phaser.Sound.BaseSound;\n  private earthRocksSound!: Phaser.Sound.BaseSound;\n  private electricSparksSound!: Phaser.Sound.BaseSound;\n  private powerDowmSound!: Phaser.Sound.BaseSound;\n  private logoColor!: Phaser.GameObjects.Image;\n  private logoWhite!: Phaser.GameObjects.Image;\n  private recargaMasti!: Phaser.GameObjects.Image;\n  private progressBar!: Phaser.GameObjects.Graphics\n  private progressFrame!: Phaser.GameObjects.Image\n  private progressTimer!: Phaser.Time.TimerEvent\n  private clockTickingSound!: Phaser.Sound.BaseSound;\n  private eventObserver: EventObserver;\n  private gameState: 'playing' | 'paused' | 'ended' = 'playing';\n  private closeButton: CloseButton;\n  private bgMusic!: BackgroundMusic;\n  private soundButton!: Phaser.GameObjects.Image;\n\n\n  preload() {\n    this.load.image('progress-frame', 'assets/progress_bar_frame.png')\n  }\n\n  private getCandyPosition(row: number, col: number): { x: number; y: number } {\n    const x = this.offsetX + col * (CANDY_WIDTH + GAP) + CANDY_WIDTH / 2\n    const y = this.offsetY + row * (CANDY_HEIGHT + GAP) + CANDY_HEIGHT / 2\n    return { x, y }\n  }\n\n  async createGrid() {\n    this.offsetX = (this.scale.width - (GRID_WIDTH * CANDY_WIDTH + (GRID_WIDTH - 1) * GAP)) / 2\n    const gridHeight = GRID_HEIGHT * CANDY_HEIGHT + (GRID_HEIGHT - 1) * GAP\n    this.offsetY = (this.scale.height - gridHeight) / 2\n\n    for (let row = 0; row < GRID_HEIGHT; row++) {\n      this.grid[row] = []\n\n      for (let col = 0; col < GRID_WIDTH; col++) {\n        const candyType = Phaser.Math.Between(CANDY_FRAME_START, CANDY_FRAME_END);\n\n        const x = this.offsetX + col * (CANDY_WIDTH + GAP) + CANDY_WIDTH / 2\n        const y = this.offsetY + row * (CANDY_HEIGHT + GAP) + CANDY_HEIGHT / 2\n\n        const candy = this.createCandy(x, y, candyType, row, col)\n        //this.add.rectangle(x, y, 40, 40, 0x00ff00).setStrokeStyle(2, 0x000000) \n        this.grid[row][col] = candy\n      }\n    }\n\n    const matches = this.getMatches();\n    if (matches.length > 0) {\n    console.log('MATCH FOUND:', matches.length, 'caramelos')\n    await this.processMatches(); // ✅ evitar errores al iniciar\n    }\n\n    this.comboText.setY(this.offsetY - 50);\n  }\n\n  private createCandy(x: number, y: number, candyType: number, row: number, col: number): Phaser.GameObjects.Sprite {\n    const candy = this.add.sprite(x, y, 'candies', candyType).setScale(0.6);\n    candy.setData('type', candyType);\n    candy.setData('row', row);\n    candy.setData('col', col);\n    candy.setInteractive();\n\n    // Eventos de drag\n    candy.on('pointerdown', (pointer: Phaser.Input.Pointer) => {\n        if (this.movingCandiesInProcess || this.gameState !== 'playing') return;\n        this.selectedCandy = candy;\n        candy.setScale(0.7); \n        candy.setData('startX', pointer.x);\n        candy.setData('startY', pointer.y);\n    });\n\n    return candy;\n  }\n\n  private trySwap(direction: 'up' | 'down' | 'left' | 'right') {\n    if (!this.selectedCandy || this.movingCandiesInProcess) return;\n    console.log(\"triyng swap\");\n\n    const row = this.selectedCandy.getData('row');\n    const col = this.selectedCandy.getData('col');\n\n    let targetRow = row;\n    let targetCol = col;\n\n    switch (direction) {\n        case 'up': targetRow--; break;\n        case 'down': targetRow++; break;\n        case 'left': targetCol--; break;\n        case 'right': targetCol++; break;\n    }\n\n    // Fuera de límites\n    if ( targetRow < 0 || targetRow >= GRID_HEIGHT || targetCol < 0 || targetCol >= GRID_WIDTH ) {\n        console.log(\"fuera de limites\");\n        this.selectedCandy.setScale(0.6); \n        return;\n    }\n\n    const areAdjacent = this.grid[targetRow][targetCol];\n    if (!areAdjacent) {\n        console.log(\"es adjacente\");\n        this.selectedCandy.setScale(0.6); \n        return;\n    }\n\n    this.swapCandies(this.selectedCandy, areAdjacent);\n  }\n\n  /*private areAdjacent(c1: Phaser.GameObjects.Sprite, c2: Phaser.GameObjects.Sprite): boolean {\n    const row1 = c1.getData('row')\n    const col1 = c1.getData('col')\n    const row2 = c2.getData('row')\n    const col2 = c2.getData('col')\n\n    const isNextTo = (Math.abs(row1 - row2) === 1 && col1 === col2) ||\n                    (Math.abs(col1 - col2) === 1 && row1 === row2)\n\n    return isNextTo\n  }*/\n\n\n  private swapCandies(c1: Phaser.GameObjects.Sprite, c2: Phaser.GameObjects.Sprite) {\n    this.movingCandiesInProcess = true;\n\n    const row1 = c1.getData('row');\n    const col1 = c1.getData('col');\n    const row2 = c2.getData('row');\n    const col2 = c2.getData('col');\n\n    // Intercambiar visualmente\n    this.tweens.add({ targets: c1, x: c2.x, y: c2.y, duration: 200 });\n    this.tweens.add({ targets: c2, x: c1.x, y: c1.y, duration: 200 });\n\n    // Intercambiar en la grilla\n    this.swapCandySound.play();\n    this.grid[row1][col1] = c2;\n    this.grid[row2][col2] = c1;\n    c1.setData('row', row2).setData('col', col2);\n    c2.setData('row', row1).setData('col', col1);\n\n    this.lastMovedCandy = c1; //candy seleecionado \n\n    this.time.delayedCall(250, async () => {\n        const matches = this.getMatches();\n        if (matches.length > 0) {\n            this.removeMatches(matches);\n            this.dropCandies();\n            await this.delay(300);\n            await this.refillGrid();\n            await this.processMatches(); // 🔁 encadenar combos\n        } else {\n        // Si no hay match, revertir\n        this.tweens.add({ targets: c1, x: c2.x, y: c2.y, duration: 200 });\n        this.tweens.add({ targets: c2, x: c1.x, y: c1.y, duration: 200 });\n        this.grid[row1][col1] = c1;\n        this.grid[row2][col2] = c2;\n        c1.setData('row', row1).setData('col', col1);\n        c2.setData('row', row2).setData('col', col2);\n        }\n\n        this.movingCandiesInProcess = false;\n    });\n  }\n\n\n  private getMatches(): Phaser.GameObjects.Sprite[] {\n    const matches: Set<Phaser.GameObjects.Sprite> = new Set()\n\n    // Detectar combinaciones horizontales\n    for (let row = 0; row < GRID_HEIGHT; row++) {\n        let match: Phaser.GameObjects.Sprite[] = []\n\n        for (let col = 0; col < GRID_WIDTH; col++) {\n            const current = this.grid[row][col]\n            const prev = col > 0 ? this.grid[row][col - 1] : null\n            if (!current || !prev) {\n                if (match.length >= 3) match.forEach(c => matches.add(c));\n                match = [];\n                continue;\n            }\n\n            if (current.getData('type') === prev.getData('type')) {\n                match.push(current)\n                if (match.length === 1) match.unshift(prev)\n            } else {\n                if (match.length >= 3) match.forEach(c => matches.add(c))\n                match = []\n            }\n        }\n        if (match.length >= 3) {\n            match.forEach(c => matches.add(c)) // por si hay un match al final de la fila\n        }\n    }\n\n    // Detectar combinaciones verticales\n    for (let col = 0; col < GRID_WIDTH; col++) {\n        let match: Phaser.GameObjects.Sprite[] = []\n\n        for (let row = 0; row < GRID_HEIGHT; row++) {\n            const current = this.grid[row][col]\n            const prev = row > 0 ? this.grid[row - 1][col] : null\n            if (!current || !prev) {\n                if (match.length >= 3) match.forEach(c => matches.add(c));\n                match = [];\n                continue;\n            }\n\n            if (current.getData('type') === prev.getData('type')) {\n                match.push(current)\n                if (match.length === 1) match.unshift(prev)\n            } else {\n                if (match.length >= 3) match.forEach(c => matches.add(c))\n                match = []\n                }\n        }\n        if (match.length >= 3) {\n        match.forEach(c => matches.add(c))\n        }\n    }\n\n    return Array.from(matches)\n  }\n\n  private updateScore(points: number) {\n    this.scoreValue += points\n    //console.log(\"score\",this.scoreValue);\n    this.scoreText.setText(this.scoreValue.toString())\n    const relativeScore = this.scoreValue - this.levelStartScore;\n    const goalForLevel = this.scoreGoal - this.levelStartScore;\n    const progress = Phaser.Math.Clamp(relativeScore / goalForLevel, 0, 1);\n    const width = this.logoColor.width * progress;\n    this.logoColor.setCrop(0, 0, width, this.logoColor.height);\n\n    if (this.scoreValue >= this.scoreGoal && this.gameState !== 'ended') {\n        this.progressTimer?.remove(false); \n        if (this.currentLevelIndex === LEVELS.length - 1) {\n            this.endGame(); // nivel final\n        } else {\n            this.nextLevel(); // avanzar al siguiente\n        }\n    }\n  }\n\n  private updateProgressBar(progress: number) {\n    const barWidth = 320\n    const barHeight = 29\n    const x = this.cameras.main.centerX - barWidth / 2\n    const y = this.scale.height - 86\n    const radius = 5;\n\n    this.progressBar.clear()\n\n    // Simula gradiente con color base sólido\n    this.progressBar.fillStyle(0x3dc51f, 1)\n    this.progressBar.fillRoundedRect(x, y, barWidth * progress, barHeight, radius);\n  }\n\n  private nextLevel() {\n    this.currentLevelIndex++;\n    this.clockTickingSound?.stop();\n\n    if (this.currentLevelIndex >= LEVELS.length) {\n        this.endGame(); // nivel final\n        return;\n    }\n\n    const newLevel = LEVELS[this.currentLevelIndex];\n\n    this.scoreGoal = newLevel.goal;\n    this.totalTime = newLevel.time;\n    this.levelStartScore = this.scoreValue;\n\n    this.gameState = 'paused';\n\n    // Mostrar LevelUpScreen y esperar confirmación del jugador\n    this.showLevelUpScreen(newLevel.level, newLevel.goal);\n  }\n\n  private showLevelUpScreen(level: number, goal: number) {\n    this.levelUpSound.play();\n    this.updateProgressBar(1);\n    this.logoColor.setCrop(0, 0, 0, this.logoColor.height);\n\n    this.levelUpScreen.once('closed', () => {\n        this.startNextLevel();\n    });\n\n    this.levelUpScreen.show(level, goal);\n  }\n\n\n  private async startNextLevel() {\n    await this.refillGrid(); // se asegura que esté lleno y sin matches\n\n    this.progressTimer?.destroy();\n    this.progressTimer = this.time.addEvent({\n        delay: this.totalTime * 1000,\n        callback: () => this.endGame(),\n    });\n\n    this.gameState = 'playing';\n  }\n\n\n  private endGame() {\n    if (this.gameState === 'ended') return; \n    this.gameState = 'ended';\n    this.movingCandiesInProcess = false\n    this.logoWhite?.destroy?.()\n    this.logoColor?.destroy?.()\n    this.closeButton?.destroy?.();\n    this.progressTimer?.remove(false);\n    this.clockTickingSound?.stop();\n    this.bgMusic?.stop();\n\n    if (this.scoreValue >= this.scoreGoal) {\n        this.winnerScreen.show(prompt.win, \"winner_screen\");\n        console.log('WIN');\n    } else {\n        console.log('ELSE');\n        this.retryScreen.setFinalScore(this.scoreValue);\n        this.retryScreen.show(prompt.retry, \"prompt_screen\");\n    }\n  }\n\n  private removeMatches(matches: Phaser.GameObjects.Sprite[]) {\n    //this.matchSound.play()\n    //console.log(\"matches: \", matches);\n    console.log(\"removematches\");\n\n    // Calcular Combos\n    const basePoints = matches.length * 10;\n    const points = basePoints * this.comboCount;\n    //console.log(\"basePoints: \", basePoints);\n    //console.log(\"this.comboCount: \", this.comboCount);\n    //console.log(\"combo points: \", points);\n    this.updateScore(points);\n\n    // Mostrar texto de combo si es mayor a x1\n    if (this.comboCount > 1 && this.gameState === 'playing') {\n        this.comboSound.play();\n        this.showComboText(`x${this.comboCount}`);\n    }\n    this.comboCount++;\n\n    // Reiniciar el temporizador de combo\n    if (this.comboTimer) this.comboTimer.remove();\n\n    this.comboTimer = this.time.delayedCall(this.comboThreshold, () => {\n        this.comboCount = 1;\n    });\n\n    if (matches.length >= 5) {\n        this.cameras.main.shake(220, 0.006); // duración, intensidad\n        this.cameras.main.flash(50, 100, 100, 255);\n        //this.earthRocksSound.play();\n\n        if (this.lastMovedCandy) {\n            this.showComboX5Bonus(this.lastMovedCandy.x, this.lastMovedCandy.y);\n            //console.log(\"scoreValue antes: \", this.scoreValue);\n            this.updateScore(50);\n            //console.log(\"scoreValue despues: \", this.scoreValue);\n        }\n    }\n\n    // Eliminar los caramelos del grid\n    matches.forEach(candy => {\n        const row = candy.getData('row');\n        const col = candy.getData('col');\n        this.grid[row][col] = null;\n\n        // animar un fade rápido y luego destruir\n        this.tweens.add({\n            targets: candy,\n            scale: 0,      \n            duration: 200,  \n            ease: 'Back.easeIn', \n             onComplete: () => {\n                //this.SparkleEffect(candy.x, candy.y); \n                candy.destroy();\n            }\n        });\n    });\n\n    this.lastMovedCandy = null; //limpiar caramelo seleccionado\n }\n\n  private SparkleEffect(x: number, y: number) {\n    const emitter = this.add.particles(x, y, 'sparkle', {\n        speed: { min: 60, max: 120 },\n        angle: { min: 0, max: 360 },\n        scale: { start: 0.4, end: 0 },\n        alpha: { start: 1, end: 0.2 },\n        lifespan: 250,\n        quantity: 5,\n        gravityY: 0,\n        blendMode: 'LIGHTEN',\n        emitZone: {\n        type: 'random',\n        source: new Phaser.Geom.Circle(0, 0, 20)\n        }\n    });\n    emitter.setDepth(0); // o -1 si querés asegurarte\n\n    this.time.delayedCall(300, () => {\n        emitter.destroy();\n    });\n  }\n\n  private showComboX5Bonus(x: number, y: number) {\n        this.comboX5Sound.play()\n        const bonusImage = this.add.image(x, y, 'combo_x5_mogul').setScale(0.5).setDepth(20).setAlpha(0.9);\n\n        this.tweens.add({\n            targets: bonusImage,\n            y: y - 45,\n            x: this.scale.width / 2 - 18,\n            alpha: 0,\n            duration: 1900,\n            ease: 'Cubic.easeOut',\n            onComplete: () => bonusImage.destroy()\n        });\n  }\n\n\n  private showComboText(text: string) {\n    this.comboText.setText(text);\n    this.comboText.setAlpha(1);\n    this.comboText.setScale(1);\n    this.comboText.setY(this.scale.height / 2 - 50); \n\n    this.tweens.add({\n        targets: this.comboText,\n        y: this.scale.height / 2 - 80,\n        alpha: 0,\n        duration: 900,\n        ease: 'Cubic.easeOut'\n    });\n  }\n\n  private dropCandies() {\n    console.log(\"droppcandies\");\n    if (this.gameState !== 'playing') return;\n    for (let col = 0; col < GRID_WIDTH; col++) {\n        for (let row = GRID_HEIGHT - 1; row >= 0; row--) {\n            if (this.grid[row][col] === null) {\n                // Buscar el caramelo más cercano arriba\n                for (let aboveRow = row - 1; aboveRow >= 0; aboveRow--) {\n                const candyAbove = this.grid[aboveRow][col]\n                    if (candyAbove) {\n                        // Moverlo visualmente\n                        const { x, y } = this.getCandyPosition(row, col)\n                        this.tweens.add({\n                        targets: candyAbove,\n                        y: y,\n                        duration: 200\n                        })\n\n                        // Actualizar datos\n                        this.grid[row][col] = candyAbove\n                        candyAbove.setData('row', row)\n\n                        this.grid[aboveRow][col] = null\n                        break\n                    }\n                }\n            }\n        }\n    }\n  }\n\n  private refillGrid(): Promise<void> {\n    console.log(\"reffill\");\n\n    this.movingCandiesInProcess = true; //Bloquear movimientos\n\n    return new Promise((resolve) => {\n        if (this.gameState !== 'playing' && this.gameState !== 'paused') return resolve();\n\n        for (let row = 0; row < GRID_HEIGHT; row++) {\n        for (let col = 0; col < GRID_WIDTH; col++) {\n            if (!this.grid[row][col]) {\n            const candyType = Phaser.Math.Between(CANDY_FRAME_START, CANDY_FRAME_END);\n            const { x, y } = this.getCandyPosition(row, col);\n            const initialY = y - 2 * (CANDY_HEIGHT + GAP);\n\n            const candy = this.createCandy(x, y, candyType, row, col);\n            candy.y = initialY;\n\n            this.tweens.add({\n                targets: candy,\n                y: y,\n                duration: 300\n            });\n\n            this.grid[row][col] = candy;\n            }\n        }\n        }\n\n        this.time.delayedCall(350, async () => {\n        const newMatches = this.getMatches();\n\n        if (newMatches.length > 0) {\n            this.removeMatches(newMatches);\n\n            this.time.delayedCall(300, () => {\n            this.dropCandies();\n\n            this.time.delayedCall(300, async () => {\n                await this.refillGrid();\n                resolve();\n            });\n            });\n\n        } else {\n            if (!this.hasPossibleMoves()) {\n            this.showShuffleMessage();\n            this.shuffleCandySound.play();\n            this.shuffleBoard();\n\n            this.time.delayedCall(200, async () => {\n                await this.refillGrid();\n                resolve();\n            });\n\n            } else {\n            this.movingCandiesInProcess = false; \n            resolve();\n            }\n        }\n        });\n    });\n  }\n\n  private swapData(c1: Phaser.GameObjects.Sprite, c2: Phaser.GameObjects.Sprite) {\n    const row1 = c1.getData('row')\n    const col1 = c1.getData('col')\n    const row2 = c2.getData('row')\n    const col2 = c2.getData('col')\n\n    this.grid[row1][col1] = c2\n    this.grid[row2][col2] = c1\n\n    c1.setData('row', row2)\n    c1.setData('col', col2)\n    c2.setData('row', row1)\n    c2.setData('col', col1)\n  }\n\n  private hasPossibleMoves(): boolean {\n    for (let row = 0; row < GRID_HEIGHT; row++) {\n        for (let col = 0; col < GRID_WIDTH; col++) {\n        const current = this.grid[row][col]\n        if (!current) continue;\n        const currentType = current.getData('type')\n\n        // Verificamos derecha\n        if (col < GRID_WIDTH - 1) {\n            const right = this.grid[row][col + 1]\n            if (!right) continue;\n            if (right.getData('type') !== currentType) {\n            this.swapData(current, right)\n            const matches = this.getMatches()\n            this.swapData(current, right) // revertir\n            if (matches.length > 0) return true\n            }\n        }\n\n        // Verificamos abajo\n        if (row < GRID_HEIGHT - 1) {\n            const down = this.grid[row + 1][col];\n            if (!down) continue;\n            if (down.getData('type') !== currentType) {\n            this.swapData(current, down)\n            const matches = this.getMatches()\n            this.swapData(current, down) // revertir\n            if (matches.length > 0) return true\n            }\n        }\n        }\n    }\n    return false\n  }\n\n  private shuffleBoard() {\n    const maxAttempts = 20; // evitar bucle infinito\n    let attempts = 0;\n\n    const candies: Phaser.GameObjects.Sprite[] = [];\n\n    for (let row = 0; row < GRID_HEIGHT; row++) {\n        for (let col = 0; col < GRID_WIDTH; col++) {\n            const candy = this.grid[row][col];\n            if (candy) candies.push(candy);\n        }\n    }\n\n    if (candies.length !== GRID_WIDTH * GRID_HEIGHT) {\n        console.warn('⚠️ Grilla incompleta antes de barajar. Se completará.');\n        this.refillGrid();\n        return;\n    }\n\n    let hasMoves = false;\n\n    do {\n        Phaser.Utils.Array.Shuffle(candies);\n\n        let i = 0;\n        for (let row = 0; row < GRID_HEIGHT; row++) {\n            for (let col = 0; col < GRID_WIDTH; col++) {\n                const candy = candies[i++];\n                const { x, y } = this.getCandyPosition(row, col);\n\n                candy.setPosition(x, y);\n                candy.setData('row', row);\n                candy.setData('col', col);\n                this.grid[row][col] = candy;\n            }\n        }\n\n        hasMoves = this.hasPossibleMoves();\n        attempts++;\n    } while (!hasMoves && attempts < maxAttempts);\n\n    if (!hasMoves) {\n        console.warn(\"🔁 No se pudieron generar jugadas después de múltiples intentos.\");\n        this.showShuffleMessage();\n    }\n }\n\n\n  private showShuffleMessage() {\n    const width = this.scale.width;\n    const height = this.scale.height;\n\n    const bg = this.add.rectangle(\n        width / 2,\n        height / 2,\n        width * 0.9,     // Ancho en porcentaje\n        60,              // Alto \n        0x002340,        // Color \n        0.95             // Opacidad\n    ).setOrigin(0.5).setDepth(10);\n\n    const text = this.add.text(\n        width / 2,\n        height / 2,\n        'No hay jugadas disponibles',\n        {\n        fontSize: '20px',\n        color: '#ffffff',\n        fontFamily: 'Luckiest Guy',\n        }\n    ).setOrigin(0.5).setDepth(11)\n\n    this.time.delayedCall(700, () => {\n        bg.destroy()\n        text.destroy()\n    })\n  }\n\n  private delay(ms: number): Promise<void> {\n    return new Promise(resolve => this.time.delayedCall(ms, resolve));\n  }\n\n  private async processMatches(): Promise<void> {\n    if (this.gameState !== 'playing') return;\n    this.movingCandiesInProcess = true;\n\n    const matches = this.getMatches();\n    if (matches.length > 0) {\n        this.removeMatches(matches);\n        this.dropCandies();\n        await this.delay(300);\n        await this.refillGrid(); \n    } else {\n        this.movingCandiesInProcess = false;\n    }\n  }\n\n  private async playIntroAnimation(): Promise<void> {\n    return new Promise((resolve) => {\n        // UI y elementos iniciales\n        const scoreImage = this.add.image(10, 16, 'score').setOrigin(0, 0);\n        const scoreWidth = scoreImage.width;\n        const scoreHeight = scoreImage.height;\n\n        this.scoreText = this.add.text(20 + scoreWidth - 30, 17 + scoreHeight / 2, '0', {\n        fontFamily: 'Luckiest Guy',\n        fontSize: '40px',\n        color: '#FEC647',\n        fontStyle: 'bold',\n        }).setOrigin(1, 0.5);\n\n        // Botón de sonido\n        this.soundButton = this.add.image(this.scale.width - 15, 68, 'sound_on')\n        .setOrigin(1, 0)\n        .setScale(1)\n        .setInteractive({ useHandCursor: true });\n\n        this.soundButton.on('pointerdown', () => {\n            const isMuted = BackgroundMusic.getInstance().toggleMute();\n            this.soundButton.setTexture(isMuted ? 'sound_off' : 'sound_on');\n        });\n\n        this.closeButton.create();\n        this.eventObserver.on('button-clicked', (buttonId) => {\n        ButtonEventHandler.handleButtonEvents(buttonId, this);\n        }, this);\n\n        Footer.create(this);\n        this.startLevelSound.play()\n        this.showIntroText();\n\n        // Efectos del logo\n        this.time.delayedCall(1600, () => {\n            this.spawnFallingCandies(35);\n            this.powerDowmSound.play();\n            this.electricSparksSound.play();\n\n            const lightning = this.add.particles(0, 0, 'ray_effect', {\n                x: { min: LOGO_X - 10, max: LOGO_X + this.logoColor.displayWidth + 10 },\n                y: { min: LOGO_Y - 10, max: LOGO_Y + this.logoColor.displayHeight + 10 },\n                lifespan: 600,\n                speed: 0,\n                quantity: 1,\n                scale: { start: 0.15, end: 0 },\n                angle: { min: 0, max: 360 },\n                alpha: { start: 0.3, end: 0 },\n                rotate: { min: 0, max: 360 },\n                gravityY: 0,\n                blendMode: 'ADD'\n            });\n\n            lightning.setDepth(0);\n\n            this.time.delayedCall(2000, () => {\n                lightning.stop();\n            });\n\n            this.tweens.addCounter({\n                from: 1,\n                to: 0,\n                duration: 2700,\n                onUpdate: (tween) => {\n                const value = tween.getValue();\n                const width = this.logoColor.width * value;\n                this.logoColor.setCrop(0, 0, width, this.logoColor.height);\n                },\n                onComplete: () => resolve()\n            });\n        });\n    });\n  }\n\n  private showIntroText() {\n    const centerX = this.cameras.main.centerX;\n    const centerY = this.scale.height / 2;\n\n    const targetX = LOGO_X + this.logoColor.displayWidth / 2;\n    const targetY = LOGO_Y + this.logoColor.displayHeight / 2;\n\n    this.recargaMasti = this.add.image(centerX, centerY, 'recarga_masti')\n        .setScale(1)\n        .setAlpha(0)\n        .setDepth(999);\n\n    // Fade in inicial\n    this.tweens.add({\n        targets: this.recargaMasti,\n        scale: { from: 1, to: 0.65 },\n        alpha: 0.9,\n        duration: 700,\n        ease: 'Back.Out',\n        onComplete: () => {\n        // Luego de un pequeño delay, animar hacia el logo\n        this.time.delayedCall(700, () => {\n            this.tweens.add({\n            targets: this.recargaMasti,\n            x: targetX,\n            y: targetY,\n            scale: 0.15,\n            alpha: 0,\n            duration: 2000,\n            ease: 'Cubic.easeInOut',\n            onComplete: () => this.recargaMasti.destroy()\n            });\n        });\n        }\n    });\n  }\n\n\n  private spawnFallingCandies(amount: number) {\n    for (let i = 0; i < amount; i++) {\n        const type = Phaser.Math.Between(0, 8);\n        const x = Phaser.Math.Between(0, this.scale.width + 50);\n        const y = Phaser.Math.Between(-200, -40);\n\n        const candy = this.add.sprite(x, y, 'candies_logo', type)\n        .setAlpha(0.25)\n        .setScale(Phaser.Math.FloatBetween(0.5, 0.6))\n        .setDepth(1)\n        .setAngle(Phaser.Math.Between(-30, 30));\n\n        this.tweens.add({\n        targets: candy,\n        y: this.scale.height + 60,\n        delay: Phaser.Math.Between(600, 1900),\n        duration: 2300,\n        ease: 'Linear',\n        onComplete: () => candy.destroy()\n        });\n    }\n  }\n\n\n  private async createGridWithoutMatches() {\n    this.offsetX = (this.scale.width - (GRID_WIDTH * CANDY_WIDTH + (GRID_WIDTH - 1) * GAP)) / 2;\n    const gridHeight = GRID_HEIGHT * CANDY_HEIGHT + (GRID_HEIGHT - 1) * GAP;\n    this.offsetY = (this.scale.height - gridHeight) / 2;\n\n    for (let row = GRID_HEIGHT - 1; row >= 0; row--) {\n        this.grid[row] = [];\n        for (let col = 0; col < GRID_WIDTH; col++) {\n        let candyType;\n        do {\n            candyType = Phaser.Math.Between(CANDY_FRAME_START, CANDY_FRAME_END);\n        } while (\n            (col >= 2 &&\n            this.grid[row][col - 1]?.getData('type') === candyType &&\n            this.grid[row][col - 2]?.getData('type') === candyType) ||\n            (row <= GRID_HEIGHT - 3 &&\n            this.grid[row + 1]?.[col]?.getData('type') === candyType &&\n            this.grid[row + 2]?.[col]?.getData('type') === candyType)\n        );\n\n        const { x, y } = this.getCandyPosition(row, col);\n        const candy = this.createCandy(x, y, candyType, row, col);\n        candy.setAlpha(0);\n\n        this.grid[row][col] = candy;\n\n        this.tweens.add({\n            targets: candy,\n            alpha: 1,\n            duration: 300,\n            delay: (GRID_HEIGHT - row + col) * 40\n        });\n        }\n    }\n\n    return this.delay(900); // Esperar a que termine la animación\n  }\n\n\n  init(data: { levelIndex: number; score: number }) {\n    this.currentLevelIndex = data.levelIndex ?? 0;\n    this.scoreValue = data.score ?? 0;\n\n    const level = LEVELS[this.currentLevelIndex];\n    this.scoreGoal = level.goal;\n    this.totalTime = level.time;\n    this.levelStartScore = this.scoreValue;\n  }\n\n\n  async create() {\n    this.gameState = 'playing';\n    this.closeButton = new CloseButton(this);\n    this.retryScreen = new RetryScreen(this)\n    this.winnerScreen = new WinnerScreen(this)\n    this.eventObserver = EventObserver.getInstance();\n    this.levelUpScreen = new LevelUpScreen(this);\n    this.soundButton = this.add.image(this.scale.width - 15, 68, 'sound_on')\n        .setOrigin(1, 0)\n        .setScale(1)\n        .setInteractive({ useHandCursor: true });\n    this.levelUpSound = this.sound.add(\"level_up\", { volume: 0.6, loop: false, });\n    this.swapCandySound = this.sound.add(\"swap_candy\");\n    this.matchSound = this.sound.add(\"match_sound\");\n    this.shuffleCandySound = this.sound.add(\"shuffle_candies\");\n    this.logoWhite = this.add.image(LOGO_X, LOGO_Y, 'logo_mogul_white').setScale(0.43).setOrigin(0,0).setDepth(1);\n    this.logoColor = this.add.image(LOGO_X, LOGO_Y, 'logo_mogul_color').setScale(0.43).setOrigin(0,0).setDepth(2).setCrop(0, 0, 0, 60);\n    this.powerDowmSound = this.sound.add(\"power_down_sound\");\n    this.electricSparksSound = this.sound.add(\"electric_sparks_sound\");\n    this.comboSound = this.sound.add(\"combo_sound\");\n    this.comboX5Sound = this.sound.add(\"combo_x5_sound\");\n    this.clockTickingSound = this.sound.add(\"clock_ticking_sound\", { loop: false });\n    this.earthRocksSound = this.sound.add(\"earth_rocks_sound\");\n    this.startLevelSound = this.sound.add(\"start_level_sound\");\n    this.comboText = this.add.text(this.cameras.main.centerX, this.scale.height / 2, '', {\n        font: \"48px 'Luckiest Guy'\",\n        color: '#FFD700',\n        fontStyle: 'bold'\n    }).setOrigin(0.5).setAlpha(0).setDepth(999);\n    document.addEventListener('mouseup', this.handleGlobalMouseUp); //Detectar movimiento fuera del canvas\n\n    await this.playIntroAnimation(); \n    await this.delay(400);\n    await this.createGridWithoutMatches();\n\n    this.progressFrame = this.add.image(this.cameras.main.centerX, this.scale.height - 68, 'progress-frame').setOrigin(0.5)\n    this.progressBar = this.add.graphics()\n    this.updateProgressBar(1)\n\n    this.progressTimer = this.time.addEvent({\n      delay: this.totalTime * 1000,\n\n      callback: () => {\n        this.endGame()\n        //console.log('Tiempo terminado')\n        //console.log('scoreValue: ', this.scoreValue )\n      }\n    })\n\n    this.events.on('update', () => {\n        const elapsed = this.progressTimer.getElapsed();\n        const remaining = Math.ceil((this.progressTimer.delay - elapsed) / 1000);\n        const progress = Phaser.Math.Clamp(1 - elapsed / this.progressTimer.delay, 0, 1);\n        this.updateProgressBar(progress);\n\n        if (remaining === 10 && !this.clockTickingSound.isPlaying) {\n            this.clockTickingSound.play();\n        }\n    });\n\n    this.input.on('pointerup', (pointer: Phaser.Input.Pointer) => {\n        if (!this.selectedCandy) return;\n\n        const dx = pointer.x - this.selectedCandy.getData('startX');\n        const dy = pointer.y - this.selectedCandy.getData('startY');\n\n        const distanceLimit = 15;\n\n        if (Math.abs(dx) > Math.abs(dy)) {\n            if (dx > distanceLimit) this.trySwap('right');\n            else if (dx < -distanceLimit) this.trySwap('left');\n        } else {\n            if (dy > distanceLimit) this.trySwap('down');\n            else if (dy < -distanceLimit) this.trySwap('up');\n        }\n\n        this.selectedCandy.setScale(0.6);\n        this.selectedCandy = null;\n    });\n  }\n\n  private handleGlobalMouseUp = (event: MouseEvent) => { //Fix pointer up fuera del canvas\n    if (!this.selectedCandy) return;\n\n    // Convertir coordenadas absolutas del mouse a coordenadas relativas del canvas\n    const canvasBounds = this.game.canvas.getBoundingClientRect();\n    const pointerX = event.clientX - canvasBounds.left;\n    const pointerY = event.clientY - canvasBounds.top;\n\n    const dx = pointerX - this.selectedCandy.getData('startX');\n    const dy = pointerY - this.selectedCandy.getData('startY');\n\n    const distanceLimit = 15;\n\n    if (Math.abs(dx) > Math.abs(dy)) {\n        if (dx > distanceLimit) this.trySwap('right');\n        else if (dx < -distanceLimit) this.trySwap('left');\n    } else {\n        if (dy > distanceLimit) this.trySwap('down');\n        else if (dy < -distanceLimit) this.trySwap('up');\n    }\n\n    this.selectedCandy.setScale(0.6);\n    this.selectedCandy = null;\n  }\n\n\n  public getScoreValue(): string {\n    return this.scoreValue.toString();\n  }\n}\n","import Phaser from 'phaser';\n\n// components/BackgroundMusic.ts\nexport class BackgroundMusic {\n  private static instance: BackgroundMusic;\n  private sound: Phaser.Sound.BaseSound | null = null;\n  private isMuted: boolean = false;\n\n  private constructor() {}\n\n  public static getInstance(): BackgroundMusic {\n    if (!BackgroundMusic.instance) {\n      BackgroundMusic.instance = new BackgroundMusic();\n    }\n    return BackgroundMusic.instance;\n  }\n\n  public init(scene: Phaser.Scene, key: string, volume: number = 0.13) {\n    if (!this.sound) {\n      this.sound = scene.sound.add(key, {\n        loop: true,\n        volume: volume\n      });\n      this.sound.play();\n    }\n  }\n\npublic toggleMute(): boolean {\n  if (!this.sound) return this.isMuted;\n\n  this.isMuted = !this.isMuted;\n  (this.sound as Phaser.Sound.WebAudioSound).setMute(this.isMuted);\n  return this.isMuted;\n}\n\n  public stop(): void {\n    if (this.sound) {\n      this.sound.stop();\n      this.sound.destroy();\n      this.sound = null;\n    }\n  }\n\n  public isPlaying(): boolean {\n    return this.sound?.isPlaying ?? false;\n  }\n\n  public isMutedState(): boolean {\n    return this.isMuted;\n  }\n}\n","import SplashScreen from \"./SplashScreen\";\nimport Utilities from \"../Utilities\";\n\nexport default class Preloader extends Phaser.Scene {\n\t/**\n\t * Unique name of the scene.\n\t */\n\tpublic static Name = \"Preloader\";\n\n\tpublic preload(): void {\n\n\t\tthis.load.path = window.assetFolder ?? \"assets/\";\n\t\tthis.load.spritesheet('diamonds', 'diamonds32x24x5.png', { frameWidth: 32, frameHeight: 24 });\n\t\tthis.load.spritesheet(\"cards\", \"spritesheet_cards_2x_new.png\", { frameWidth: 58 * 2, frameHeight: 58 * 2 });\n        this.load.spritesheet('candies', 'spritesheet_cards_candy.png', { frameWidth: 116, frameHeight: 116 })\n        this.load.spritesheet('candies_logo', 'spritesheet_cards_candy_logo.png', { frameWidth: 116, frameHeight: 116 })\n        this.load.spritesheet('spritesheet_thunder_explo', 'spritesheet_thunder_explo.png', { frameWidth: 116, frameHeight: 116 })\n        this.load.spritesheet('spritesheet_confetti', 'spritesheet_confetti.png', { frameWidth: 50, frameHeight: 50 })\n\n\t\tthis.load.image(\"progress_frame\", \"progress_bar_frame.png\");\n\t\tthis.load.image(\"progress_bar\", \"progress_bar_full.png\");\n\t\t//this.load.image(\"powerBy\", \"powerBy_w.png\");\n\t\tthis.load.svg(\"powerBySvg\", \"powerBy_w.svg\", {width:400, height:30, scale: 1});\n\t\tthis.load.svg(\"tevas_title\", \"tevas_title.svg\");\n\t\tthis.load.svg(\"retry_button\", \"retry_button.svg\");\n        this.load.image(\"logo_mogul_color\", \"logo_mogul_color.svg\");\n        this.load.image(\"logo_mogul_white\", \"logo_mogul_white.svg\");\n        this.load.image('sparkle', 'sparkle_img.png');\n        this.load.image('candy_glow', 'candy_glow_img.png');\n        this.load.image('recarga_masti', 'recarga_masti.png');\n\n\t\tthis.load.image(\"phaser_pixel_medium_flat\");\n\t\tthis.load.image(\"background\", \"background.png\");\n        this.load.image(\"background_main\", \"background_main.png\");\n        this.load.image('prompt_bg', 'background_main.png');\n        this.load.image(\"combo_x5_mogul\", \"combo_x5_mogul.png\");\n\t\t\n\t\tthis.load.image(\"sound_off\", \"sound_off.png\");\n\t\tthis.load.image(\"sound_on\", \"sound_on.png\");\n\t\t\n\t\tthis.load.image(\"score\", \"frame-score.png\");\n        this.load.image(\"ray_effect\", \"ray_effect.png\");\n\t\tthis.load.image(\"final_score\", \"final_score.png\");\n\t\tthis.load.image(\"prompt_screen\", \"prompt_screen.png\");\n\t\tthis.load.image(\"retry_message\", \"cada-vez-mas-cerca.png\");\n\t\tthis.load.image(\"close_button\", \"close.png\");\n\t\t// this.load.image(\"retry_button\", \"retry-btn.png\");\n\t\tthis.load.image(\"seguiintentando_title\", \"segui-intentando.png\");\n\t\tthis.load.image(\"porpoco_title\", \"porpoco_title.png\");\n\t\tthis.load.image(\"exit_arcor_button\", \"ir_a_tienda.png\");\n\t\tthis.load.image(\"winner_screen\", \"win_screen.png\");\n\t\tthis.load.image(\"win_title\", \"win_title.png\");\n\t\tthis.load.image(\"win_message\", \"win_message.png\");\n\t\tthis.load.image(\"background_secondary\", \"background_secondary.png\");\n\t\t// this.load.image(\"tevas_title\", \"tevas_title.png\");\n\t\tthis.load.image(\"tevas_message\", \"tevas_message.png\");\n\t\tthis.load.image(\"tevas_button\", \"tevas_button.png\");\n\t\tthis.load.image(\"copy_coupon_button\", \"copy_coupon_button.svg\");\n\t\tthis.load.image(\"copied_coupon_button\", \"copied_button.png\");\n\t\tthis.load.image(\"coupon_code_container\", \"coupon_code_container.png\");\n        this.load.image(\"continuar_btn\", \"continuar_btn.png\");\n\n\t\tthis.load.image(\"logo_candy_Arcor\", \"logo-candy-arcor.png\");\n        this.load.image(\"logo_candy_Arcor_win\", \"logo_candy_Arcor_win.png\");\n        this.load.image(\"logo_Arcor\", \"logo-arcor-en-casa.png\");\n\t\tthis.load.image(\"logo\", \"logo-home.png\");\t\n\t\tthis.load.image(\"play\", \"play.png\");\t\n\t\tthis.load.image(\"reset\", \"reset_2x.png\");\t\n\t\tthis.load.image(\"Phaser-Logo-Small\");\n\n\t\tthis.load.audio(\"music\", \"music.mp3\");\n\t\tthis.load.audio(\"coinsplash\", \"coinsplash.mp3\");\n\t\tthis.load.audio(\"collectcoin\", \"collectcoin.mp3\");\n\t\tthis.load.audio(\"tadaa\", \"tadaa.mp3\");\n\t\tthis.load.audio(\"retry\", \"retry.mp3\");\n\t\tthis.load.audio(\"cash\", \"cash-register.mp3\");\n\t\tthis.load.audio(\"cardFlip\", \"cardFlip.wav\");\n        this.load.audio(\"level_up\", \"level-up.mp3\");\n\t\tthis.load.audio(\"swap_candy\", \"swap-candy.mp3\");\n        this.load.audio(\"match_sound\", \"match_sound.mp3\")\n        this.load.audio(\"shuffle_candies\", \"shuffle_candies.mp3\")\n        this.load.audio(\"combo_sound\", \"combo_sound.mp3\")\n        this.load.audio(\"combo_x5_sound\", \"combo_x5_sound.mp3\")\n        this.load.audio(\"power_down_sound\", \"power_down_sound.mp3\")\n        this.load.audio(\"electric_sparks_sound\", \"electric_sparks_sound.mp3\")\n        this.load.audio(\"clock_ticking_sound\", \"clock_ticking_sound.mp3\")\n        this.load.audio(\"earth_rocks_sound\", \"earth_rocks_sound.mp3\")\n        this.load.audio(\"start_level_sound\", \"start_level_sound.mp3\")\n        this.load.audio('candy_music_background_sound', 'candy_music_background_sound.mp3');\n\n\t\t// You should remove this logic; this is only included here to show off the progress bar.\n\n\t}\n\n\tpublic init(): void {\n\t\tthis.addProgressBar();\n\t}\n\n\tpublic create(): void {\n\t\tUtilities.LogSceneMethodEntry(\"Preloader\", \"create\");\n\n\t\tthis.scene.start(SplashScreen.Name);\n\n\t\tconst background = this.add.image(this.cameras.main.centerX,0, \"background\");\n\t\tbackground.setOrigin(0.5, 0);\n\t\tbackground.setScale(this.cameras.main.width / background.width);\n\t\tlet baseScale = this.cameras.main.height / background.height\n\t\tif((this.cameras.main.width / background.width) > baseScale) baseScale = this.cameras.main.width / background.width;\n\t\tbackground.setScale(baseScale)\n\n\t\tconst powerBy = this.add.image(this.cameras.main.centerX, this.cameras.main.centerY * 2, \"powerBy\");\n\t\tpowerBy.setInteractive();\n\t\tpowerBy.on(\"pointerdown\", () => {\n\t\t\tif(window) window.open(\"https://minimalart.co/\", \"_blank\");\n\t\t});\n\t\tpowerBy.setOrigin(0.5, 1).setScale(1.15 / 3);\n\n\t}\n\n\tpublic update(): void {\n\t\t// preload handles updates to the progress bar, so nothing should be needed here.\n\t}\n\n\t/**\n\t * Adds a progress bar to the display, showing the percentage of assets loaded and their name.\n\t */\n\tprivate addProgressBar(): void {\n\t\tconst width = this.cameras.main.width;\n\t\tconst height = this.cameras.main.height;\n\t\t/** Customizable. This text color will be used around the progress bar. */\n\t\tconst outerTextColor = '#ffffff';\n\n        const boxWidth = 230;\n        const boxHeight = 30;\n        const boxX = (width - boxWidth) / 2;\n        const boxY = height / 2 - boxHeight / 2;\n\n\t\t// 1. Fondo con borde\n\tconst progressBox = this.add.graphics();\n\tprogressBox.fillStyle(0x3B0037, 0.8); // fondo violeta\n\tprogressBox.fillRect(boxX, boxY, boxWidth, boxHeight);\n\tprogressBox.lineStyle(5, 0x3B0037, 1); // borde\n\tprogressBox.strokeRect(boxX, boxY, boxWidth, boxHeight);\n\tprogressBox.setDepth(110);\n\n\t// 2. Barra de progreso (encima del fondo)\n\tconst progressBar = this.add.graphics();\n\tprogressBar.setDepth(111);\n\n\t// 3. Texto superior \"CARGANDO\"\n\tconst loadingText = this.make.text({\n\t\tx: width / 2,\n\t\ty: boxY - 30,\n\t\ttext: \"CARGANDO\",\n\t\tstyle: {\n\t\t\tfont: \"24px 'Luckiest Guy'\",\n\t\t\tcolor: \"#FFE516\"\n\t\t}\n\t});\n\tloadingText.setOrigin(0.5);\n\tloadingText.setDepth(112);\n\n\t\tconst percentText = this.make.text({\n\t\t\tx: width / 2,\n\t\t\ty: boxY + boxHeight / 2,\n\t\t\ttext: \"0%\",\n\t\t\tstyle: {\n\t\t\t\tfont: \"18px 'Luckiest Guy'\",\n\t\t\t\tcolor: \"#FFE516\"\n\t\t\t}\n\t\t});\n\t\tpercentText.setOrigin(0.5);\n\t\tpercentText.setDepth(112);\n\n\t\tconst assetText = this.make.text({\n\t\t\tx: width / 2,\n\t\t\ty: height / 2 + 50,\n\t\t\ttext: \"\",\n\t\t\tstyle: {\n\t\t\t\tfont: \"18px 'Luckiest Guy'\",\n\t\t\t\tcolor: outerTextColor\n\t\t\t}\n\t\t});\n\n\t\tassetText.setOrigin(0.5, 0.5);\n\t\tassetText.setDepth(110);\n\n\t\tthis.load.on(\"progress\", (value: number) => {\n\t\t\tpercentText.setText(parseInt(value * 100 + \"\", 10) + \"%\");\n\t\t\tprogressBar.clear();\n\t\t\tprogressBar.fillStyle(0xF23ADF, 1); \n\t\t\tprogressBar.fillRect(boxX, boxY, boxWidth * value, boxHeight);\n\t\t});\n\n\t\t// this.load.on(\"fileprogress\", (file: Phaser.Loader.File) => {\n\t\t// \tassetText.setText(\"Loading asset: \" + file.key);\n\t\t// });\n\n\t\tthis.load.on(\"complete\", () => {\n\t\t\tprogressBar.destroy();\n\t\t\tprogressBox.destroy();\n\t\t\tloadingText.destroy();\n\t\t\tpercentText.destroy();\n\t\t\tassetText.destroy();\n\t\t});\n\t}\n}\n","const buttons = { \n\n  retry: {\n    eventName: 'retry',\n    background: \"retry_button\"\n  },\n  exitArcor: {\n    eventName: 'exit',\n    background: \"exit_arcor_button\"\n  },\n  back: {\n    eventName: 'back',\n    background: \"tevas_button\"\n  },\n  copy: {\n    eventName: 'copy',\n    background: \"copy_coupon_button\"\n  },\n  close: {\n    eventName: 'close',\n    background: \"close_button\"\n  },\n  copied: {\n    eventName: 'copy',\n    background: \"copied_coupon_button\"\n  }\n}\n\nconst prompt = {\n\n  retry: {\n    title: \"seguiintentando_title\",\n    message: \"retry_message\",\n    actions: [\n      buttons.retry,\n      buttons.exitArcor\n    ],\n    data: {}\n  },\n  narrowly: {\n    title: \"porpoco_title\",\n    message: \"retry_message\",\n    actions: [\n      buttons.retry,\n      buttons.exitArcor\n    ],\n    data: {}\n  },\n  win: {\n    title: \"win_title\",\n    message: \"win_message\",\n    actions: [\n      buttons.copy,\n      buttons.exitArcor\n    ],\n    data: {}\n  },\n  leaving: {\n    title: \"tevas_title\",\n    message:\"tevas_message\",\n    actions: [\n      buttons.back,\n      buttons.exitArcor\n    ],\n    data: {}\n  }\n}\n\nexport {\n  prompt,\n  buttons\n}\n\n\n","\nimport { Footer } from \"../components/Footer\";\nimport { promptContentConfig } from \"../types\";\nimport { PromptScreen } from \"./PromptScreen\";\nimport { EventObserver } from \"../observer\";\nimport { buttons } from \"../config\";\nimport { applyButtonHoverEffect } from \"../components/HoverButtons\";\n\nexport class WinnerScreen  {\n  private scene;\n  private prompt: PromptScreen;\n  public couponCode: Phaser.GameObjects.Text;\n  private couponCodeContainer: Phaser.GameObjects.Image;\n  private arcorCoin: Phaser.GameObjects.Image;\n  private finalScore: Phaser.GameObjects.Text;\n  eventObserver: EventObserver;\n\n  constructor( scene: Phaser.Scene ) {\n    this.prompt = new PromptScreen(scene);\n    this.scene = scene;\n    this.eventObserver = EventObserver.getInstance();\n  }\n\n  show(promptContent: promptContentConfig, promptType: string) {\n    this.scene.closeButton.destroy();\n    this.prompt.setSplashBackground();\n    this.setSplashLogo();\n    this.prompt.setBackground(promptType, 0, 80, 1.1, 1.1); \n    this.prompt.setTitle(promptContent.title, 0, -105, 1, 1);\n    this.setWinnerScore();\n    this.setMessageWinner();\n    this.setWinnerCouponCode();\n    this.prompt.setActions(promptContent.actions, 0, 150, 55, 1, 1);\n    this.scene.sound.add('tadaa').play({\n      volume: 0.3\n    });\n    //this.scene.removeInteractivityCards(); solo para memo\n    Footer.create(this.scene);\n\n    this.eventObserver.on('button-clicked', (buttonId) => {\n\t\tif (buttonId == 'copy') {\n            const copyButtons = this.prompt.setActions([buttons.copied], 0, 150, 55, 1, 1);\n            copyButtons.forEach(applyButtonHoverEffect); \n\n        }\n\n        setTimeout(() => {\n            const resetButtons = this.prompt.setActions([buttons.copy], 0, 150, 55, 1, 1);\n            resetButtons.forEach(applyButtonHoverEffect);\n        }, 1500);\n\t}, this);\n  }\n\n  private setSplashLogo() {\n    const logo = this.scene.add.image(\n      this.scene.cameras.main.centerX, \n      this.scene.cameras.main.centerY - 250, \n      \"logo_candy_Arcor_win\"\n    )\n    .setOrigin(0.5, 0.5)\n    .setDepth(10)\n    .setScale(0)\n\n    this.scene.tweens.add({\n\t\t\ttargets: logo,\n\t\t\tscale: 1,\n\t\t\tdelay:0,\n\t\t\tduration: 10,\n\t\t\tease: \"Bounce.easeOut\"\n\t\t});\n  }\n\n  private setWinnerCouponCode() {\n    this.couponCodeContainer = this.scene.add.image(\n        this.scene.cameras.main.centerX, \n        this.scene.cameras.main.centerY + 85, \n        \"coupon_code_container\"\n    )\n    .setOrigin(0.5, 0.5)\n    .setDepth(10)\n    .setScale(1.1, 1.1);\n\n    this.couponCode = this.scene.add.text(\n      this.scene.cameras.main.centerX, \n      this.scene.cameras.main.centerY + 70,\n      this.scene.game.getCouponCode(),\n      {\n          font: \"23px 'Luckiest Guy'\",\n          color: \"#FFFFFF\",\n      }\n    )\n    .setOrigin(0.5, 0.5)\n    .setDepth(10)\n    .setScale(1, 1);\n\n    this.scene.tweens.add({\n      targets: this.couponCode,\n      y: this.couponCode.y - 50,  // Hace que el texto suba\n      scaleY: 1,  // Estira un poco el texto para simular el brinco\n      duration: 200,  // Duración de la subida\n      ease: 'Power1',\n      yoyo: true,  // Hace que vuelva a su posición original\n      onComplete: () => {\n          // Animación de caída\n          this.scene.tweens.add({\n              targets: this.couponCode,\n              y: this.scene.cameras.main.centerY + 83,  // Hace que caiga un poco más abajo\n              duration: 30,  // Duración de la caída\n              ease: 'Bounce.easeOut',  // Efecto de rebote al caer\n          });\n      }\n    });\n  }\n\n    private setMessageWinner() {\n    this.couponCodeContainer = this.scene.add.image(\n        this.scene.cameras.main.centerX, \n        this.scene.cameras.main.centerY + 30, \n        \"win_message\"\n    )\n    .setOrigin(0.5, 0.5)\n    .setDepth(10)\n    .setScale(1.1, 1.1);\n  }\n\n  private setWinnerScore() {\n    /*this.arcorCoin = this.scene.add.image(\n        this.scene.cameras.main.centerX - 75,\n        this.scene.cameras.main.centerY - 10,\n        \"arcor_coin\"\n    )\n    .setOrigin(0.5, 0.5)\n    .setDepth(10)\n    .setScale(1.1, 1.1);*/\n\n    this.finalScore = this.scene.add.text(\n      this.scene.cameras.main.centerX,\n      this.scene.cameras.main.centerY - 30,\n      this.scene.getScoreValue(),\n      {\n          font: \"40px 'Luckiest Guy'\",\n          color: \"#E2D64B\",\n      }\n    )\n    .setOrigin(0.5, 0.5)\n    .setDepth(10)\n    .setScale(1, 1);\n\n    /*this.scene.tweens.add({\n      targets: this.arcorCoin,\n      scaleX: 0, // Achica la moneda en su eje X\n      duration: 500, // Duración de la primera mitad del giro\n      yoyo: true, // Hace que el tween vuelva a su estado original\n      repeat: -1, // Repetir indefinidamente\n      ease: 'Sine.easeInOut', // Tipo de easing\n      onUpdate: () => {\n          // Cambia el frame de la moneda en el punto medio de la animación (cuando scaleX llega a 0)\n          if (this.arcorCoin.scaleX === 0) {\n              // Aquí podrías cambiar la imagen o el frame si quieres\n          }\n      }\n    });*/\n    \n  }\n\n  hide(): void {\n    this.prompt.hide();\n  }\n}\n","\nexport default abstract class Screen {\n  scene: Phaser.Scene;\n  private playButton: Phaser.GameObjects.Image;\n\n  constructor(scene: Phaser.Scene) {\n      this.scene = scene;\n  }\n\n  abstract show(): void;\n\n  abstract hide(): void;\n\n  protected setSplashBackground() {\n    const background = this.scene.add.image(this.scene.cameras.main.centerX,0, \"background_secondary\");\n\t\tbackground.setOrigin(0.5, 0);\n\t\tbackground.setScale(this.scene.cameras.main.width / background.width);\n\t\tlet baseScale = this.scene.cameras.main.height / background.height\n\t\tif((this.scene.cameras.main.width / background.width) > baseScale) baseScale = this.scene.cameras.main.width / background.width;\n\t\tbackground.setScale(baseScale)\n  }\n\n  protected addMask(): void {\n    const mask = this.scene.add.graphics();\n    mask.fillStyle(0x000000, 0.5);\n    mask.fillRect(0, 0, this.scene.cameras.main.width, this.scene.cameras.main.height);\n    mask.setDepth(3);\n  }\n\n\n  protected adjustDepth(score: Phaser.GameObjects.Image, scoreText: Phaser.GameObjects.Text, depthScore:number = 10, depthScoreText:number = 10): void {\n\t\tscore.setDepth(depthScore);\n\t\tscoreText.setDepth(depthScoreText);\n\t}\n}\n","import 'phaser';\nimport Boot from \"./Scenes/Boot\";\nimport Preloader from \"./Scenes/Preloader\";\nimport MainMenu from \"./Scenes/MainMenu\";\nimport SplashScreen from \"./Scenes/SplashScreen\";\nimport Utilities from \"./Utilities\";\nimport MainGameJewel from \"./Scenes/MainGame_Jewel\";\nimport MainGameCandy from \"./Scenes/MainGame_Candy\";\nimport MainGameMemo from \"./Scenes/MainGame_Memo\";\nimport MainSettings from \"./Scenes/MainSettings\";\nimport LeavingGameScene from \"./Scenes/LeavingGameScene\";\n\nconst gameConfig: Phaser.Types.Core.GameConfig = {\n\twidth: 400 > window.innerWidth ? window.innerWidth : 400,\n\theight: window.innerHeight,\n\ttype: Phaser.AUTO,\n\ttransparent: true,\n\tparent: \"content\",\n\ttitle: \"Juego Candy para Arcor\"\n};\n\nexport default class Game extends Phaser.Game {\n\tonCloseGame?: () => void;\n\tselectedCoupon: string = 'PRIMAVERA-5U5Y5';\n\n\tconstructor(config: Phaser.Types.Core.GameConfig & PhaserGameOptions) {\n\t\tUtilities.LogSceneMethodEntry(\"Game\", \"constructor\");\n\t\tsuper(config);\n\t\tthis.onCloseGame = config.onClose;\n\t\tthis.scene.add(Boot.Name, Boot);\n\t\tthis.scene.add(Preloader.Name, Preloader);\n\t\tthis.scene.add(SplashScreen.Name, SplashScreen);\n\t\tthis.scene.add(MainMenu.Name, MainMenu);\n\t\t//this.scene.add(MainGameJewel.Name, MainGameJewel);\n        this.scene.add(MainGameCandy.Name, MainGameCandy);\n\t\t//this.scene.add(MainGameMemo.Name, MainGameMemo);\n\t\tthis.scene.add(LeavingGameScene.Name, LeavingGameScene);\n\t\tthis.scene.add(MainSettings.Name, MainSettings);\n\t\tthis.scene.start(Boot.Name);\n\t\tthis.selectedCoupon = this.getRandomCoupon();\n\t}\n\n\tpublic getRandomCoupon() {\n\t\tconst coupons = [\n\t\t\t'PRIMAVERA-096JB', 'PRIMAVERA-1YPLD', 'PRIMAVERA-2HBCV', 'PRIMAVERA-307TT',\n\t\t\t'PRIMAVERA-4WXTB', 'PRIMAVERA-5U5Y5', 'PRIMAVERA-60ASF', 'PRIMAVERA-7P6DY',\n\t\t\t'PRIMAVERA-8S8FJ4', 'PRIMAVERA-94X04'\n\t\t];\n    const randomIndex = Math.floor(Math.random() * coupons.length);\n    return coupons[randomIndex];\n\t}\n\n\tpublic getCouponCode() {\n\t\treturn this.selectedCoupon;\n\t}\n}\n\n/**\n * Workaround for inability to scale in Phaser 3.\n * From http://www.emanueleferonato.com/2018/02/16/how-to-scale-your-html5-games-if-your-framework-does-not-feature-a-scale-manager-or-if-you-do-not-use-any-framework/\n */\nfunction resize(game: Game): void {\n    let width = 400;\n    \n    if (window.innerWidth === 428) { \n        width = 440;\n    } else if (window.innerWidth === 414) { \n        width = 414; \n    } else if (width > window.innerWidth) {\n        width = window.innerWidth;\n    }\n\n    const height = window.innerHeight;\n\n    if (game) {\n        game.scale.resize(width, height);\n        game.renderer.resize(width, height);\n        game.scene.scenes.forEach((scene) => {    \n            if (scene.cameras.main && scene.scene.isActive()) {\n                scene.cameras.main.setViewport(0, 0, width, height);\n                \n                const zoomFactor = window.innerWidth / 400;\n                scene.cameras.main.setZoom(zoomFactor);\n                \n                game.scale.refresh();\n                scene.cameras.main.flash(1000);\n                scene.scene.stop();\n                scene.scene.start();\n            }\n        });\n    }\n}\n\ntype PhaserGameOptions = {\n\tparent?: string;\n\tassetFolder? : string;\n\tonClose?: () => void;\n\tcouponcode?: string;\n\t// more options\n}\n\ndeclare global {\n\tinterface Window {\n\t\tnewGame: (options: PhaserGameOptions) => void;\n\t\tassetFolder?: string;\n\t\tgame?: Game;\n\t}\n}\n\n\nif (window) {\n\twindow.newGame = (options: PhaserGameOptions) => {\n\t\tconst newOptions = {...gameConfig, ...options}\n\n\t\tif(newOptions.assetFolder) window.assetFolder = newOptions.assetFolder;\n\t\tconst game = new Game(newOptions as Phaser.Types.Core.GameConfig & PhaserGameOptions);\t\n\t\twindow.game = game;\n\t\t// Uncomment the following two lines if you want the game to scale to fill the entire page, but keep the game ratio.\n\t\tresize(game);\n\t\twindow.addEventListener(\"resize\", () => resize(game), true);\n\t}\n\n\twindow.onload = (): void => {\n\t\tconst queryString = window.location.search;\n\t\tconst urlParams = new URLSearchParams(queryString);\n\t\tconst async = urlParams.get('async')\n\t\t\n\t\tif(!async) {\n\t\t\twindow.newGame({});\n\t\t} else {\n\t\t\tconsole.log(\"Waiting for instructions\")\n\t\t}\n\n\t}\n}\n","import { Button } from \"./Button\";\nimport { buttons } from \"../config\";\nimport { prompt } from \"../config\";\n\nexport class CloseButton {\n\tpublic static Name = \"CloseButtonScene\";\n\tprivate scene;\n\tprivate button: Button;\n\n\tconstructor(scene: Phaser.Scene) {\n\t\tthis.scene = scene;\n\t}\n\n\tpublic create(deviationX = 0, deviationY = 4) {\n\t\tconst margin = 35;\n\t\tthis.button = new Button(\n\t\t\tthis.scene,\n\t\t\tthis.scene.cameras.main.scrollX +\n\t\t\t\tthis.scene.cameras.main.width -\n\t\t\t\tmargin +\n\t\t\t\tdeviationX,\n\t\t\tthis.scene.cameras.main.scrollY + margin + deviationY,\n\t\t\tbuttons.close,\n\t\t\t1.05,\n\t\t\t1.05\n\t\t);\n\n\t\tthis.button.createButton();\n\n\t}\n\n\tpublic destroy() {\n\t\tthis.button.destroy();\n\t}\n}\n","\nexport class Footer {\n\n  public static create(scene: Phaser.Scene) {\n    scene.add.image(scene.cameras.main.centerX * 2, (scene.cameras.main.centerY * 2), \"powerBySvg\")\n\t\t.setInteractive()\n\t\t.on(\"pointerdown\", () => {\n\t\t\tif(window) window.open(\"https://minimalart.co/\", \"_blank\")\n\t\t})\n\t\t.setOrigin(1, 1)\n    .setDepth(110);\n  }\n\n}\n","export function applyButtonHoverEffect(button: Phaser.GameObjects.Image) {\n  button.setInteractive({ useHandCursor: true });\n\n  button.on('pointerover', () => {\n    button.setScale(1.03); \n  });\n\n  button.on('pointerout', () => {\n    button.setScale(1);\n  });\n}\n","\nimport { promptActions } from \"../types\"\nimport { EventObserver } from \"../observer\";\n\nexport class Button {\n    private button: Phaser.GameObjects.Image;\n\t  eventObserver: EventObserver;\n    \n    constructor(\n        private scene: Phaser.Scene,         // La escena actual de Phaser\n        private x: number,                   // Coordenada X\n        private y: number,                   // Coordenada Y\n        private action: promptActions,\n        private scaleX: number = 1,\n        private scaleY: number = 1,    \n    ) {\n\t\t this.eventObserver =  EventObserver.getInstance();\n    }\n\n    public createButton(): Phaser.GameObjects.Image {\n        this.button = this.scene.add.image(this.x, this.y, this.action.background)\n        .setInteractive()\n        .on('pointerdown', (e) => {\n            // this.pressButtonEffect();\n            this.eventObserver.emit('button-clicked', this.action.eventName);\n        })\n        .on('pointerup', () => {\n            this.releaseButtonEffect();\n        })\n        .on('pointerout', () => {\n            this.button.setTint(0xffffff);\n            this.releaseButtonEffect();\n        })\n        .setOrigin(0.5, 0.5)\n        .setDepth(100)\n        .setScale(this.scaleX, this.scaleY);\n\n        return this.button;\n    }\n\n    private pressButtonEffect(): void {\n        this.scene.tweens.add({\n          targets: this.button,\n          scaleX: this.scaleX * 0.9,  // Reduce la escala en el eje X\n          scaleY: this.scaleY * 0.9,  // Reduce la escala en el eje Y\n          duration: 100,\n          ease: 'Power1'\n        });\n      }\n    \n      private releaseButtonEffect(): void {\n        this.scene.tweens.add({\n          targets: this.button,\n          scaleX: this.scaleX,  // Vuelve a la escala original en el eje X\n          scaleY: this.scaleY,  // Vuelve a la escala original en el eje Y\n          duration: 300,\n          ease: 'Power1'\n        });\n      }\n\n    public destroy(): void {\n        this.button.destroy();\n    }\n}\n","export  { Button } from './Button';\nexport  { CloseButton } from './CloseButton';\nexport  { Score } from './Score'\n","export {EventObserver} from \"./EventObserver\"\n","import Utilities from \"../Utilities\";\nimport MainGame from \"./MainGame_Memo\";\nimport { CloseButton } from \"../components\";\nimport { RetryScreen } from '../Screen';\nimport { EventObserver } from \"../observer\";\nimport { ButtonEventHandler } from \"../handlers\";\nimport { Footer } from \"../components/Footer\";\nimport { BackgroundMusic } from \"../components/BackgroundMusic\";\n\nexport default class MainMenu extends Phaser.Scene {\n\tmusic: Phaser.Sound.BaseSound;\n\talreadyPlayignMusic = false\n\tcloseButton: CloseButton;\n\tretryScreen: RetryScreen;\n\teventObserver: EventObserver;\n\t/**\n\t * Unique name of the scene.\n\t */\n\tpublic static Name = \"MainMenu\";\n\n\tpublic init(){\n\t\t//this.closeButton = new CloseButton(this);\n\t\tthis.retryScreen = new RetryScreen(this);\n\t\tthis.eventObserver = EventObserver.getInstance();\n\n\t\t// this.game.config.audio.disableWebAudio = true;\n\t\t//this.game.config.audio.disableWebAudio = false;\n\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t\t//@ts-ignore\n\t\t//this.game.soundManager = Phaser.Sound.SoundManagerCreator.create(this.game)\n\t\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t\t//@ts-ignore\n\t\t//this.music = this.game.soundManager;\n\t\t//this.game.sound.mute = false;\n\n\t}\n\n\tpublic preload(): void {\n\t\t// Preload as needed.\n\t}\n\n\tpublic pauseScene() {\n\t\tthis.scene.pause(MainMenu.Name)\n\t}\n\n\tpublic resumeScene() {\n\t\tthis.scene.resume(MainMenu.Name)\n\t}\n\n\tpublic create(): void {\n\t\tUtilities.LogSceneMethodEntry(\"MainMenu\", \"create\");\n        const bgMusic = BackgroundMusic.getInstance();\n        if (!bgMusic.isPlaying()) {\n            bgMusic.init(this, 'candy_music_background_sound', 0.1);\n        }\n\n\t\tif(!this.alreadyPlayignMusic) {\n\t\t\tthis.alreadyPlayignMusic = true;\n\t\t\t// this.music.play(\"music\",{\n\t\t\t// \tvolume: 0.06,\n\t\t\t// \tloop: true\n\t\t\t// });\n\t\t}\n\n        const background = this.add.image(this.cameras.main.centerX, this.cameras.main.height, \"background_main\");\n        background.setOrigin(0.5, 1); \n\n        let scaleX = this.cameras.main.width / background.width;\n        let scaleY = this.cameras.main.height / background.height;\n        let scale = Math.max(scaleX, scaleY);\n\n        background.setScale(scale);\n\n\n\t\t// const soundBtn = this.add.image(35, 55, \"sound_on\").setScale(0.5);\n\t\t// soundBtn.setOrigin(0.5, 0.5);\n\t\t// soundBtn.setInteractive();\n\t\t// soundBtn.on(\"pointerdown\", () => {\n\t\t// \tconst newMuteValue = !this.game.sound.mute;\n\t\t// \tthis.game.sound.mute = newMuteValue\n\t\t// \t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t\t// \t//@ts-ignore\n\t\t// \tthis.music.setMute(newMuteValue)\n\t\t// \tsoundBtn.setTexture(newMuteValue ? \"sound_off\" : \"sound_on\");\n\t\t// }, this);\n\n\n        const logoArcor = this.add.image(this.cameras.main.centerX, 50, \"logo_Arcor\").setScale(0).setOrigin(0.5, 0);\n        this.tweens.add({\n\t\t\ttargets: logoArcor,\n\t\t\tscale: 1,\n\t\t\tdelay:0,\n\t\t\tduration: 600,\n\t\t\tease: \"Bounce.easeOut\"\n\t\t});\n\n        const logo = this.add.image(this.cameras.main.centerX, this.cameras.main.centerY * 0.5, \"logo_candy_Arcor\").setScale(0).setDepth(3);\n        this.tweens.add({\n\t\t\ttargets: logo,\n\t\t\tscale: 1.05,\n\t\t\tdelay:0,\n\t\t\tduration: 600,\n\t\t\tease: \"Bounce.easeOut\"\n\t\t});\n\t\tlogo.setOrigin(0.5, 0);\n\n        const candie1 = this.add.image(this.cameras.main.centerX, logo.y + (logo.height * 1.05) + 10, \"candies_logo\", 0).setOrigin(0.5).setScale(0).setDepth(5);\n\t\tconst candie2 = this.add.image(this.cameras.main.centerX, logo.y + (logo.height * 1.05) + 10 + 40, \"candies_logo\", 3).setOrigin(0.5).setScale(0).setDepth(6);\n\t\tconst candie3 = this.add.image(this.cameras.main.centerX, logo.y + (logo.height * 1.05) + 10 + 40, \"candies_logo\", 2).setOrigin(0.5).setScale(0).setDepth(5);\n        const candie4 = this.add.image(this.cameras.main.centerX, logo.y + (logo.height * 1.05) + 10 + 40, \"candies_logo\", 7).setOrigin(0.5).setScale(0).setDepth(4);\n\t\t//const candie5 = this.add.image(this.cameras.main.centerX, logo.y + (logo.height * 1.05) + 10 + 40, \"candies_logo\", 3).setOrigin(0.5).setScale(0).setDepth(6);\n\t\t//const candie6 = this.add.image(this.cameras.main.centerX, logo.y + (logo.height * 1.05) + 10 + 40, \"candies_logo\", 8).setOrigin(0.5).setScale(0).setDepth(5);\n\n\t\tconst baseX = candie1.x\n\t\tconst baseY = candie1.y\n\n\t\tthis.tweens.add({\n\t\t\ttargets: candie1,\n\t\t\tscale: 1,\n\t\t\tx: baseX - 120,\n\t\t\ty: baseY - 15,\n\t\t\tangle: -125,\n\t\t\tdelay:600,\n\t\t\tduration: 600,\n\t\t\tease: \"Bounce.easeOut\"\n\t\t});\n\n        this.tweens.add({\n\t\t\ttargets: [candie1],\n\t\t\tscale: 1.1,\n\t\t\tdelay:1300,\n\t\t\tangle: -130,\n\t\t\tduration: 300,\n\t\t\tease: \"Power1\",\n\t\t\tyoyo: true,\n\t\t\tloop: -1\n\t\t});\n\t\t\n\t\tthis.tweens.add({\n\t\t\ttargets: candie2,\n\t\t\tscale: 1,\n\t\t\tx: baseX - 80,\n\t\t\ty: baseY - 5,\n\t\t\tangle: + 15,\n\t\t\tdelay:600,\n\t\t\tduration: 600,\n\t\t\tease: \"Bounce.easeOut\"\n\t\t});\n\n        this.tweens.add({\n\t\t\ttargets: [candie2],\n\t\t\tscale: 1.1,\n\t\t\tdelay:1100,\n\t\t\tangle: + 10,\n\t\t\tduration: 300,\n\t\t\tease: \"Power1\",\n\t\t\tyoyo: true,\n\t\t\tloop: -1\n\t\t});\n\n        this.tweens.add({\n\t\t\ttargets: candie3,\n\t\t\tscale: 0.95,\n\t\t\tx: baseX + 80,\n\t\t\ty: baseY - 5,\n\t\t\tangle: + 135,\n\t\t\tdelay:600,\n\t\t\tduration: 600,\n\t\t\tease: \"Bounce.easeOut\"\n\t\t});\n\n        this.tweens.add({\n\t\t\ttargets: [candie3],\n\t\t\tscale: 0.9,\n\t\t\tdelay:1080,\n\t\t\tangle: + 115 ,\n\t\t\tduration: 300,\n\t\t\tease: \"Power1\",\n\t\t\tyoyo: true,\n\t\t\tloop: -1\n\t\t});\n\n        this.tweens.add({\n\t\t\ttargets: candie4,\n\t\t\tscale: 1.2,\n\t\t\tx: baseX + 110,\n\t\t\ty: baseY - 8,\n\t\t\tangle: + 130,\n\t\t\tdelay:600,\n\t\t\tduration: 600,\n\t\t\tease: \"Bounce.easeOut\"\n\t\t});\n\n        this.tweens.add({\n\t\t\ttargets: [candie4],\n\t\t\tscale: 1.3,\n\t\t\tdelay: 1300,\n\t\t\tangle: + 120,\n\t\t\tduration: 300,\n\t\t\tease: \"Power1\",\n\t\t\tyoyo: true,\n\t\t\tloop: -1\n\t\t});\n\n        const playButton = this.add.image(this.cameras.main.centerX, this.cameras.main.centerY * 1.3, \"play\").setScale(0).setDepth(7);\n        this.tweens.add({\n\t\t\ttargets: playButton,\n\t\t\tscale: 1,\n\t\t\tdelay:200,\n\t\t\tduration: 600,\n\t\t\tease: \"Bounce.easeOut\"\n\t\t});\n\t\tplayButton.setOrigin(0.5, 0.5);\n\t\tplayButton.setInteractive();\n\t\tplayButton.on(\"pointerover\", () => { playButton.setTint(0xeeeeee); }, this);\n\t\tplayButton.on(\"pointerout\", () => { playButton.setTint(0xffffff); }, this);\n\t\tplayButton.on(\"pointerdown\", () => { this.scene.start(MainGame.Name); }, this);\n\n        Footer.create(this);\n\t}\n\n\tpublic update(): void {\n\t\t// Update logic, as needed.\n\t}\n}\n","import Phaser from 'phaser'\nimport { applyButtonHoverEffect } from './HoverButtons';\n\nexport class LevelUpScreen extends Phaser.Events.EventEmitter {\n  private scene: Phaser.Scene;\n  private container: Phaser.GameObjects.Container;\n  private background: Phaser.GameObjects.Image;\n  private levelText: Phaser.GameObjects.Text;\n  private levelNumberText: Phaser.GameObjects.Text;\n  private goalText: Phaser.GameObjects.Text;\n  private continueButton: Phaser.GameObjects.Image;\n  private logoMogul!: Phaser.GameObjects.Image;\n  \n  private createConfettiEmitter(): void {\n    const centerX = this.scene.scale.width / 2;\n    const centerY = this.scene.scale.height / 2;\n\n    const emitter = this.scene.add.particles(0, 0, 'spritesheet_confetti', {\n        frame: Phaser.Utils.Array.NumberArray(0, 23),\n        speed: { min: 50, max: 130 },         \n        angle: { min: 0, max: 300 },        \n        gravityY: 60,                        \n        scale: { start: 0.25, end: 0 },\n        lifespan: 7000,                       \n        rotate: { min: -120, max: 120 },\n        alpha: { start: 1, end: 0.2 },\n        quantity: 30,\n        frequency: -1,\n        emitZone: {\n            type: 'random',\n            source: new Phaser.Geom.Circle(centerX, centerY, 60) // círculo completo\n        }\n    });\n\n    this.container.addAt(emitter, 1); //posicionamiento en las capas\n\n    emitter.explode(170); // Densidad\n\n    this.scene.time.delayedCall(8000, () => {\n        emitter.destroy();\n    });\n  }\n\n  constructor(scene: Phaser.Scene) {\n    super();\n    this.scene = scene;\n\n    const centerX = this.scene.cameras.main.centerX;\n    const centerY = this.scene.cameras.main.centerY;\n\n    // Fondo\n    this.background = this.scene.add.image(centerX, centerY, 'prompt_bg')\n      .setOrigin(0.5)\n      .setScale(1.2);\n\n    // Logo Mogul\n    this.logoMogul = this.scene.add.image(centerX, centerY - 210, 'logo_mogul_color')\n      .setScale(0.78)\n      .setOrigin(0.5)\n\n    // Título level\n    this.levelText = this.scene.add.text(centerX, centerY - 90, '', {\n      font: \"53px 'Luckiest Guy'\",\n      color: '#FBB040',\n      align: 'center'\n    }).setOrigin(0.5).setStroke('#FFFFFF', 10);\n\n    this.levelNumberText = this.scene.add.text(centerX, centerY - 10, '', {\n      font: \"140px 'Luckiest Guy'\",\n      color: '#FBB040',\n      align: 'center'\n    }).setOrigin(0.5).setStroke('#FFFFFF', 10); \n\n    // Meta\n    this.goalText = this.scene.add.text(centerX, centerY + 95, '', {\n      font: \"20px 'Luckiest Guy'\",\n      color: '#FEC647',\n      align: 'center',\n    }).setOrigin(0.5);\n\n    const boxMeta = this.scene.add.rectangle( this.goalText.x, this.goalText.y, 250,this.goalText.height + 20, 0x3B0037)\n    .setOrigin(0.5)\n    .setStrokeStyle(4, 0xFFFFFF)\n    boxMeta.setDepth(this.goalText.depth - 1);;\n\n    // Botón continuar\n    this.continueButton = this.scene.add.image(centerX, centerY + 200, 'continuar_btn')\n    .setOrigin(0.5).setInteractive({ useHandCursor: true });\n    applyButtonHoverEffect(this.continueButton);\n    this.continueButton.on('pointerdown', () => {\n      this.container.setVisible(false);\n      this.emit('closed'); // Control total desde MainGame\n    });\n\n    this.container = this.scene.add.container(0, 0, [\n      this.background,\n      this.logoMogul,\n      this.levelText,\n      this.levelNumberText,\n      boxMeta, \n      this.goalText,\n      this.continueButton\n    ]).setDepth(1000).setVisible(false);\n  }\n\n  show(level: number, goal: number) {\n    this.levelText.setText(`NIVEL`);\n    this.levelNumberText.setText(`${level}`);\n    this.goalText.setText(`META: ${goal} PUNTOS`);\n    this.container.setVisible(true);\n    this.createConfettiEmitter();\n  }\n}\n","export {ButtonEventHandler} from './ButtonEventHandler'\n","\nimport { RetryScreen } from \"../Screen\";\nimport { prompt } from \"../config\";\n\nexport default class LeavingGameScene extends Phaser.Scene {\n\n  public static Name = 'LeavingGameScene';\n  \n  constructor() {\n      super({ key: 'LeavingGameScene' });\n  }\n\n  create() {\n    const leavingScreen = new RetryScreen(this);\n    leavingScreen.addMask();\n    leavingScreen.show(prompt.leaving, \"prompt_screen\")\n  }\n}\n","import Screen from \"./Screen\";\nimport { Button } from \"../components\";\nimport { promptActions } from \"../types\";\nimport { applyButtonHoverEffect } from \"../components/HoverButtons\";\n\nexport class PromptScreen extends Screen {\n  protected promptTitle: Phaser.GameObjects.Image;\n  protected promptMessage: Phaser.GameObjects.Image;\n  protected background: Phaser.GameObjects.Image;\n  protected actions: Button[] = [];\n\n  constructor(\n    scene: Phaser.Scene\n  ) {\n    super(scene);\n  }\n\n  setSplashBackground() {\n    super.setSplashBackground();\n  }\n\n  addMask() {\n    super.addMask();\n  }\n\n  setBackground(promptType: string, deviationX=0, deviationY=0, scaleX=1, scaleY=1) {\n    this.background = this.scene.add.image(this.scene.cameras.main.centerX + (deviationX), this.scene.cameras.main.centerY + (deviationY), promptType)\n    .setOrigin(0.5, 0.5)\n    .setDepth(10)\n    .setScale(scaleX, scaleY);\n  }\n\n  setTitle(promptTitle: string, deviationX=0, deviationY=0, scaleX=1, scaleY=1) {\n    this.promptTitle = this.scene.add.image(this.scene.cameras.main.centerX + (deviationX), this.scene.cameras.main.centerY + (deviationY), promptTitle)\n    .setOrigin(0.5, 0.5)\n    .setDepth(10)\n    .setScale(scaleX, scaleY);\n  }\n\n  setMessage(promptMessage: string, deviationX=0, deviationY=0, scaleX=1, scaleY=1) {\n    this.promptMessage = this.scene.add.image(this.scene.cameras.main.centerX + (deviationX), this.scene.cameras.main.centerY + (deviationY), promptMessage)\n    .setOrigin(0.5, 0.5)\n    .setDepth(10)\n    .setScale(scaleX, scaleY);\n  }\n\nsetActions(promptActions: Array<promptActions>, deviationX = 0, deviationY = 0, separation = 0, scaleX = 1, scaleY = 1): Phaser.GameObjects.Image[] {\n  const createdButtons: Phaser.GameObjects.Image[] = [];\n\n  promptActions.forEach((action, index) => {\n    const button = new Button(\n      this.scene,\n      this.scene.cameras.main.centerX + deviationX,\n      this.scene.cameras.main.centerY + deviationY + (index * separation),\n      action,\n      scaleX,\n      scaleY\n    );\n\n    const imageButton = button.createButton(); // ← ahora esto devuelve la imagen\n    applyButtonHoverEffect(imageButton);\n    createdButtons.push(imageButton);\n\n    this.actions.push(button); // si seguís usando tu lógica interna\n  });\n\n  return createdButtons;\n}\n\n\n  show(): void {}\n\n  hide(): void {\n    this.promptTitle.destroy();\n    this.promptMessage.destroy();\n    this.background.destroy();    \n    this.actions.forEach(button => button.destroy());\n  }\n}\n","import Game from \"../Game\";\nimport copy from 'copy-to-clipboard';\n\nexport class ButtonEventHandler {\n    public static handleButtonEvents(buttonId: string, scene: Phaser.Scene) {\n        let sound = scene.sound.add(\"cash\");\n\n        switch (buttonId) {\n            case \"close\":\n                ButtonEventHandler.handleCloseEvent(scene);\n                break;\n\n            case \"back\":\n                ButtonEventHandler.handleBackEvent(scene);\n                break;\n\n            case \"exit\":\n                if ((scene.game as Game).onCloseGame) (scene.game as Game).onCloseGame();\n                window.location.href = 'https://arcorencasa.com/tienda/';\n                break;\n\n            case \"retry\":\n                ButtonEventHandler.handlePlayAgain(scene);\n                break;\n\n            case \"copy\":\n                ButtonEventHandler.handleCopyCode(scene);\n                sound.play();\n                break;\n\n            default:\n                console.log(\"Botón no reconocido:\", buttonId);\n                break;\n        }\n    }\n\n    private static handleCloseEvent(scene: Phaser.Scene) {\n        scene.scene.launch(\"LeavingGameScene\");\n        scene.scene.pause();\n    }\n\n    private static handleBackEvent(scene: Phaser.Scene) {\n        scene.scene.resume();\n        scene.scene.stop(\"LeavingGameScene\");\n    }\n\n    private static handlePlayAgain(scene: Phaser.Scene) {\n        scene.scene.stop('MainMenu');\n        scene.scene.restart();\n    }\n\n    // Método que detecta si es iOS\n    /*private static isIOS() {\n        return /iPhone|iPad|iPod/i.test(navigator.userAgent);\n    }*/\n    \n    // Método para copiar el texto en otros navegadores o usando el fallback\n    private static fallbackCopyTextToClipboard(text: string) {\n        const textArea = document.createElement('textarea');\n        textArea.value = text;\n        textArea.style.position = 'fixed';\n        textArea.style.left = '-9999px'; // Moverlo fuera de la pantalla\n        document.body.appendChild(textArea);\n\n        textArea.select();\n        try {\n            document.execCommand('copy');\n            console.log('Texto copiado usando el fallback');\n        } catch (err) {\n            console.error('Error al copiar el texto usando el fallback', err);\n        }\n\n        document.body.removeChild(textArea);\n    }\n\n    // Modificar handleCopyCode para usar la nueva lógica\n    private static handleCopyCode(scene: Phaser.Scene) {\n        const code = (scene.game as Game).selectedCoupon;\n\n        if (navigator.clipboard) {\n            navigator.clipboard.writeText(code).then(() => {\n                //console.log(\"Copiado con clipboard API\");\n            }).catch(err => {\n                //console.warn(\"Clipboard API falló, usando fallback\", err);\n                ButtonEventHandler.fallbackCopyTextToClipboard(code);\n            });\n        } else {\n            ButtonEventHandler.fallbackCopyTextToClipboard(code);\n        }\n    }\n}\n","export default class Utilities {\n\t/**\n\t * Logs a particular message to the console.\n\t * @param message Message to log.\n\t */\n\tpublic static Log(message: string): void {\n\t\tconsole.log((new Date()).toISOString() + \" : \" + message);\n\t}\n\n\t/**\n\t * Logs the start of a method in a scene.\n\t * @param sceneName Name of the scene.\n\t * @param method Method called within the scene.\n\t */\n\tpublic static LogSceneMethodEntry(sceneName: string, method: string): void {\n\t\tthis.Log(\"Entered \" + sceneName + \" \" + method + \"()\");\n\t}\n}\n","export * from \"./config\"\n","import Utilities from \"../Utilities\";\nimport MainMenu from \"./MainMenu\";\n\nexport default class MainSettings extends Phaser.Scene {\n\t/**\n\t * Unique name of the scene.\n\t */\n\tpublic static Name = \"MainSettings\";\n\n\tpublic create(): void {\n\t\tUtilities.LogSceneMethodEntry(\"MainSettings\", \"create\");\n\t\tconst startYPosition = this.cameras.main.height / 4;\n\t\tconst fontSize = 25;\n\n\t\t// Add a button to return to the main menu.\n\t\tconst backText = this.add.text(this.cameras.main.centerX, startYPosition * 2, \"Go Back\");\n\t\tbackText\n\t\t\t.setOrigin(0.5)\n\t\t\t.setFontFamily(\"monospace\").setFontSize(fontSize).setFill(\"#fff\")\n\t\t\t.setInteractive();\n\t\tbackText.on(\"pointerdown\", () => { this.scene.start(MainMenu.Name); }, this);\n\t}\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(552);\n"],"names":["module","exports","Phaser","MainGame","Scene","withPreview","withRestartTime","scoreValue","resizeApplied","cellSizeX","cellSizeY","flipSpeed","flipZoom","limitTime","maxTime","baseScale","targetScore","splitter","rows","columns","nextLevelTimer","state","previewGoing","flippedCards","levelDificulty","configDificulty","init","this","resetGameState","window","innerHeight","preload","exist","a","getScoreValue","checkMatch","behindFrame","disableInteractive","pending","tweens","add","targets","alpha","duration","yoyo","group","getChildren","filter","card","length","setTimeout","createNextGame","clearTimeout","Number","scoreText","setText","toString","y","scaleY","ease","onComplete","sound","play","i","obj","flipTween","isReversed","callback","check","isFlipping","push","game","mute","volume","scaleX","setFrame","makeCardInteractive","setScale","frame","name","setInteractive","on","createGrid","config","middlePoint","cameras","main","centerX","centerY","amountOfTiles","tilesRow","tilesColumn","possibleFrames","textures","get","getFrameNames","shift","frames","Math","RND","pick","emptyGroup","Utils","Array","Shuffle","sprite","Actions","GridAlign","width","height","cellWidth","cellHeight","position","Display","Align","CENTER","x","correctionX","correctionY","forEach","clear","dificulty","timer","remove","startTimer","endGame","winnerScreen","show","prompt","win","retryScreen","setFinalScore","narrowly","retry","removeInteractivityCards","resetValues","adjustDepth","score","depthScore","depthScoreText","setDepth","newLimit","baseTime","progress","time","addEvent","delay","progressBar","setCrop","loop","setSoundBtn","soundBtn","image","setOrigin","newMuteValue","soundManager","setMute","setTexture","create","WinnerScreen","RetryScreen","closeButton","CloseButton","eventObserver","EventObserver","getInstance","LogSceneMethodEntry","background","text","font","color","overProgressFrame","powerBy","open","registry","set","buttonId","ButtonEventHandler","handleButtonEvents","Name","eventEmitter","Events","EventEmitter","instance","event","context","emit","args","Boot","scene","start","SplashScreen","load","path","assetFolder","setBackground","loadMainMenu","callbackScope","constructor","PromptScreen","addMask","promptContent","promptType","setTitle","title","setMessage","message","setActions","actions","Footer","setSplashBackground","finalScore","finalScoreText","hide","LEVELS","level","goal","grid","offsetX","offsetY","selectedCandy","lastMovedCandy","movingCandiesInProcess","scoreGoal","levelStartScore","currentLevelIndex","totalTime","matchValue","comboCount","comboThreshold","gameState","handleGlobalMouseUp","canvasBounds","canvas","getBoundingClientRect","pointerX","clientX","left","pointerY","clientY","top","dx","getData","dy","abs","trySwap","getCandyPosition","row","col","CANDY_WIDTH","CANDY_HEIGHT","scale","gridHeight","candyType","Between","candy","createCandy","matches","getMatches","console","log","processMatches","comboText","setY","setData","pointer","direction","targetRow","targetCol","areAdjacent","swapCandies","c1","c2","row1","col1","row2","col2","swapCandySound","delayedCall","async","removeMatches","dropCandies","refillGrid","Set","match","current","prev","unshift","c","from","updateScore","points","relativeScore","goalForLevel","Clamp","logoColor","progressTimer","nextLevel","updateProgressBar","barWidth","fillStyle","fillRoundedRect","clockTickingSound","stop","newLevel","showLevelUpScreen","levelUpSound","levelUpScreen","once","startNextLevel","destroy","logoWhite","bgMusic","comboSound","showComboText","comboTimer","shake","flash","showComboX5Bonus","SparkleEffect","emitter","particles","speed","min","max","angle","end","lifespan","quantity","gravityY","blendMode","emitZone","type","source","Geom","Circle","comboX5Sound","bonusImage","setAlpha","GRID_HEIGHT","aboveRow","candyAbove","Promise","resolve","initialY","newMatches","hasPossibleMoves","showShuffleMessage","shuffleCandySound","shuffleBoard","swapData","currentType","GRID_WIDTH","right","down","attempts","candies","warn","hasMoves","setPosition","bg","rectangle","fontSize","fontFamily","ms","playIntroAnimation","scoreImage","scoreWidth","scoreHeight","fontStyle","soundButton","useHandCursor","isMuted","BackgroundMusic","toggleMute","startLevelSound","showIntroText","spawnFallingCandies","powerDowmSound","electricSparksSound","lightning","LOGO_X","displayWidth","LOGO_Y","displayHeight","rotate","addCounter","to","onUpdate","tween","value","getValue","targetX","targetY","recargaMasti","amount","FloatBetween","setAngle","createGridWithoutMatches","data","levelIndex","LevelUpScreen","matchSound","earthRocksSound","document","addEventListener","progressFrame","graphics","events","elapsed","getElapsed","remaining","ceil","isPlaying","input","key","isMutedState","Preloader","spritesheet","frameWidth","frameHeight","svg","audio","addProgressBar","update","boxWidth","boxX","boxY","boxHeight","progressBox","fillRect","lineStyle","strokeRect","loadingText","make","style","percentText","assetText","parseInt","buttons","eventName","exitArcor","back","copy","close","copied","leaving","setSplashLogo","setWinnerScore","setMessageWinner","setWinnerCouponCode","applyButtonHoverEffect","logo","couponCodeContainer","couponCode","getCouponCode","mask","gameConfig","innerWidth","AUTO","transparent","parent","Game","super","selectedCoupon","onCloseGame","onClose","getRandomCoupon","coupons","floor","random","resize","renderer","scenes","isActive","setViewport","zoomFactor","setZoom","refresh","newGame","options","newOptions","onload","queryString","location","search","URLSearchParams","deviationX","deviationY","button","Button","scrollX","scrollY","createButton","action","e","releaseButtonEffect","setTint","pressButtonEffect","Score","MainMenu","alreadyPlayignMusic","pauseScene","pause","resumeScene","resume","logoArcor","candie1","candie2","candie3","candie4","baseX","baseY","playButton","createConfettiEmitter","NumberArray","frequency","container","addAt","explode","logoMogul","levelText","align","setStroke","levelNumberText","goalText","boxMeta","setStrokeStyle","depth","continueButton","setVisible","LeavingGameScene","leavingScreen","promptTitle","promptMessage","promptActions","separation","createdButtons","index","imageButton","handleCloseEvent","handleBackEvent","href","handlePlayAgain","handleCopyCode","launch","restart","fallbackCopyTextToClipboard","textArea","createElement","body","appendChild","select","execCommand","err","error","removeChild","code","navigator","clipboard","writeText","then","catch","Log","Date","toISOString","sceneName","method","MainSettings","startYPosition","backText","setFontFamily","setFontSize","setFill","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call"],"sourceRoot":""}